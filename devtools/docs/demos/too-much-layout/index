<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">
    <link type="image/ico" rel="icon" href="http://www.google.com/images/icons/product/chrome-32.png">

    <link href="../../../../static/css/out/site.css" rel="stylesheet" type="text/css">
    <link href="../../../../static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../../../../static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41980257-1');
  ga('send', 'pageview');

</script>

    <title>Timeline demo: Diagnosing forced synchronous layouts - Google Chrome</title>
  </head>

  <body>
    <div id="gc-container">
    <a href="index#gc-pagecontent" class="element-invisible element-focusable">Skip to main content</a>

    <header id="topnav" role="banner">
      <div id="logo">
        <a href="../../../../index.html">
          <img alt="Chrome: developer" src="../../../../static/images/chrome-logo_2x.png">
        </a>
        <span class="collase-icon"><!-- <img src="/static/images/burger-icon.png" class="collase-icon">--></span>
      </div>
      <nav id="fatnav" role="navigation">
      <ul>
          <li class="pillar">
            <span class="toplevel">Devtools</span>
            <ul class="expandee">
                <li class="submenu">Learn Basics
                  <ul>
                      <li class="category">
                        <a href="../../../index.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../authoring-development-workflow.html">
                        Authoring &amp; Development Workflow
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../console.md">
                        Using the Console
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../tips-and-tricks.html">
                        Tips &amp; Tricks
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../videos.html">
                        Additional Resources
                        </a>
                        <ul>
                            <li><a href="../../videos.html">Videos</a>
                            </li>
                            <li><a href="../../blog-posts">Blog Posts</a>
                            </li>
                            <li><a href="https://groups.google.com/forum/?fromgroups#!forum/google-chrome-developer-tools">Mailing List</a>
                            </li>
                            <li><a href="../../contributing.html">Contributing to DevTools</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Use Tools
                  <ul>
                      <li class="category">
                        <a href="../../dom-and-styles.html">
                        Inspecting &amp; Tweaking
                        </a>
                        <ul>
                            <li><a href="../../elements">Editing Styles &amp; DOM</a>
                            </li>
                            <li><a href="../../css-preprocessors.html">Working with CSS Preprocessors</a>
                            </li>
                            <li><a href="../../resource-panel.md">Managing Application Storage</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../javascript-debugging.html">
                        Debugging JavaScript
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../mobile-emulation.html">
                        Mobile Emulation
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../protocol/tot/remote-debugging.html">
                        Remote Debugging on Android
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Performance &amp; Profiling
                  <ul>
                      <li class="category">
                        <a href="../../network.md">
                        Evaluating Network Performance
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../timeline.html">
                        Using the Timeline
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="index">
                        Timeline Demo: Finding Forced Synchronous Layouts
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../cpu-profiling.html">
                        Profiling JavaScript Performance
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../javascript-memory-profiling.md">
                        JavaScript Memory Profiling
                        </a>
                        <ul>
                            <li><a href="../../javascript-memory-profiling.md">JavaScript Memory Profiling</a>
                            </li>
                            <li><a href="../../heap-profiling-summary.html">Demos</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../clean-testing-environment.html">
                        Setting Up a Clean Testing Environment
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Reference
                  <ul>
                      <li class="category">
                        <a href="../../console-api.md">
                        Console API Reference
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../commandline-api.md">
                        Command Line API Reference
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../integrating.md">
                        DevTools Extensions API
                        </a>
                        <ul>
                            <li><a href="../../integrating.md">Integrating with DevTools</a>
                            </li>
                            <li><a href="../../sample-extensions.md">Sample DevTools Extensions</a>
                            </li>
                            <li><a href="../../debugging-clients.md">Sample DevTools Protocol Clients</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../shortcuts.html">
                        Keyboard Shortcuts
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../settings.html">
                        Settings
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../debugger-protocol.html">
                        Remote Debugging Protocol
                        </a>
                        <ul>
                            <li><a href="../../debugger-protocol.html">Remote Debugging Protocol</a>
                            </li>
                            <li><a href="../../protocol/1.1/index.html">Version 1.1</a>
                            </li>
                            <li><a href="../../protocol/1.0/index.html">Version 1.0</a>
                            </li>
                            <li><a href="../../protocol/0.1/index.html">Version .1</a>
                            </li>
                            <li><a href="../../protocol/tot/index.html">Tip-of-tree</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">Multi-device</span>
            <ul class="expandee">
                <li class="submenu">Getting Started
                  <ul>
                      <li class="category">
                        <a href="../../../../multidevice/index.html">
                        Chrome for a Multi-Device World
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/data-compression">
                        Data Compression Proxy
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/user-agent.html">
                        User Agents
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../mobile-emulation.html">
                        Mobile Emulation
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../protocol/tot/remote-debugging.html">
                        Remote Debugging
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/faq.html">
                        FAQ
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome for Android
                  <ul>
                      <li class="category">
                        <a href="../../../../multidevice/android/overview.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/android/intents.html">
                        Android Intents with Chrome
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/android/installtohomescreen.html">
                        Add to Homescreen
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome WebView
                  <ul>
                      <li class="category">
                        <a href="../../../../multidevice/webview/overview.html">
                        WebView for Android
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/webview/gettingstarted.html">
                        Getting Started
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/webview/pixelperfect">
                        Pixel-Perfect UI
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/webview/workflow.html">
                        WebView Workflow
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/webview/tipsandtricks">
                        Tips &amp; Tricks
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome for iOS
                  <ul>
                      <li class="category">
                        <a href="../../../../multidevice/ios/overview.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/ios/links.html">
                        Opening Links in Chrome
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../multidevice/ios/case-studies">
                        Case Studies
                        </a>
                        <ul>
                            <li><a href="../../../../multidevice/ios/case-studies">Case Studies</a>
                            </li>
                            <li><a href="../../../../multidevice/ios/pocket.html">Pocket</a>
                            </li>
                            <li><a href="../../../../multidevice/ios/feedly.html">Feedly</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">Platform</span>
            <ul class="expandee">
                <li class="submenu">Apps
                  <ul>
                      <li class="category">
                        <a href="../../../../apps/index.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../../../../apps/index.html">What Are Chrome Apps?</a>
                            </li>
                            <li><a href="../../../../apps/first_app.html">Create Your First App</a>
                            </li>
                            <li><a href="../../../../apps/app_architecture.html">App Architecture</a>
                            </li>
                            <li><a href="../../../../extensions/app_lifecycle.html">App Lifecycle</a>
                            </li>
                            <li><a href="../../../../apps/contentSecurityPolicy.html">Content Security Policy</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../apps/app_codelab1_setup.html">
                        Learn with Codelab
                        </a>
                        <ul>
                            <li><a href="../../../../apps/app_codelab1_setup.html">1 - Set Up Development Environment</a>
                            </li>
                            <li><a href="../../../../apps/app_codelab2_basic.html">2 - Create Basic App</a>
                            </li>
                            <li><a href="../../../../apps/app_codelab3_mvc.html">3 - Create MVC</a>
                            </li>
                            <li><a href="../../../../apps/app_codelab5_data.html">4 - Save &amp; Fetch Data</a>
                            </li>
                            <li><a href="../../../../apps/app_codelab6_lifecycle.html">5 - Manage App Lifecycle</a>
                            </li>
                            <li><a href="../../../../apps/app_codelab7_useridentification.html">6 - Access User's Data</a>
                            </li>
                            <li><a href="../../../../apps/app_codelab8_webresources.html">7 - Access Web Resources</a>
                            </li>
                            <li><a href="../../../../apps/app_codelab_10_publishing.html">8 - Publish App</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../apps/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../apps/offline_apps.html">
                        Develop in the Cloud
                        </a>
                        <ul>
                            <li><a href="../../../../apps/offline_apps.html">Offline First</a>
                            </li>
                            <li><a href="../../../../extensions/app_external.html">Handling External Content</a>
                            </li>
                            <li><a href="../../../../apps/app_storage.html">Storing Data</a>
                            </li>
                            <li><a href="../../../../apps/cloudMessaging.html">Cloud Messaging</a>
                            </li>
                            <li><a href="../../../../apps/app_identity.html">User Authentication</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../apps/app_usb.html">
                        User Low-Level System Services
                        </a>
                        <ul>
                            <li><a href="../../../../apps/app_usb.html">USB</a>
                            </li>
                            <li><a href="../../../../apps/app_serial">Serial</a>
                            </li>
                            <li><a href="../../../../apps/app_network.html">Network Communications</a>
                            </li>
                            <li><a href="../../../../apps/app_bluetooth.html">Bluetooth</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../apps/app_frameworks.html">
                        MVC Architecture &amp; Frameworks
                        </a>
                        <ul>
                            <li><a href="../../../../apps/app_frameworks.html">About MVC Architecture</a>
                            </li>
                            <li><a href="../../../../apps/angular_framework.html">Build Apps with AngularJS</a>
                            </li>
                            <li><a href="../../../../apps/sencha_framework.html">Build Apps with SenchaJS</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../extensions/publish_app.html">
                        Distribute Apps
                        </a>
                        <ul>
                            <li><a href="../../../../extensions/publish_app.html">Publish Your App</a>
                            </li>
                            <li><a href="../../../../apps/google_wallet.html">Monetize Your App</a>
                            </li>
                            <li><a href="../../../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../../../apps/analytics.html">Analytics</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../apps/api_index.html">
                        Chrome Platform APIs
                        </a>
                        <ul>
                            <li><a href="../../../../apps/api_index.html">JavaScript APIs</a>
                            </li>
                            <li><a href="../../../../apps/manifest.html">Manifest File Format</a>
                            </li>
                            <li><a href="../../../../apps/webview.html">Webview Tag</a>
                            </li>
                            <li><a href="../../../../apps/api_other.html">Web APIs</a>
                            </li>
                            <li><a href="../../../../apps/app_deprecated.html">Disabled Web Features</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../apps/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../../../apps/faq">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps">Google Groups</a>
                            </li>
                            <li><a href="http://stackoverflow.com/questions/tagged/google-chrome-app">Stack Overflow</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Extensions
                  <ul>
                      <li class="category">
                        <a href="../../../../apps/overview.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../../../../apps/overview.html">Overview</a>
                            </li>
                            <li><a href="../../../../extensions/hosting_changes">Hosting Changes</a>
                            </li>
                            <li><a href="../../../../extensions/event_pages.html">Event Pages</a>
                            </li>
                            <li><a href="../../../../extensions/content_scripts.html">Content Scripts</a>
                            </li>
                            <li><a href="../../../../apps/activeTab.html">activeTab Permission</a>
                            </li>
                            <li><a href="../../../../extensions/whats_new.html">What's New?</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../apps/getstarted.html">
                        Getting Started Tutorial
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../extensions/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../extensions/tut_migration_to_manifest_v2">
                        Develop Extensions
                        </a>
                        <ul>
                            <li><a href="../../../../extensions/a11y.html">Accessibility</a>
                            </li>
                            <li><a href="../../../../extensions/contentSecurityPolicy.html">Content Security Policy</a>
                            </li>
                            <li><a href="../../../../extensions/xhr.html">Cross-Origin XHR</a>
                            </li>
                            <li><a href="../../../../extensions/tut_debugging">Debugging</a>
                            </li>
                            <li><a href="../../../../extensions/i18n.html">Internationalization</a>
                            </li>
                            <li><a href="../../../../extensions/messaging">Message Passing</a>
                            </li>
                            <li><a href="../../../../extensions/tut_migration_to_manifest_v2">Migrate to Manifest 2</a>
                            </li>
                            <li><a href="../../../../extensions/tut_oauth">OAuth</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../extensions/hosting.html">
                        Distribute Extensions
                        </a>
                        <ul>
                            <li><a href="../../../../extensions/hosting.html">Hosting</a>
                            </li>
                            <li><a href="../../../../extensions/packaging.html">Packaging</a>
                            </li>
                            <li><a href="../../../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../../../extensions/autoupdate.html">Autoupdating</a>
                            </li>
                            <li><a href="../../../../extensions/external_extensions.html">Other Deployment Options</a>
                            </li>
                            <li><a href="../../../../extensions/tut_analytics.html">Google Analytics</a>
                            </li>
                            <li><a href="../../../../extensions/themes.html">Publishing Themes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../extensions/api_index.html">
                        Chrome Platform APIs
                        </a>
                        <ul>
                            <li><a href="../../../../extensions/api_index.html">JavaScript APIs</a>
                            </li>
                            <li><a href="../../../../extensions/manifest.html">Manifest File Format</a>
                            </li>
                            <li><a href="../../../../extensions/api_other.html">Web APIs</a>
                            </li>
                            <li><a href="../../../../extensions/permission_warnings.html">Permission Warnings</a>
                            </li>
                            <li><a href="../../../../extensions/permissions.html">Optional Permissions</a>
                            </li>
                            <li><a href="../../../../extensions/match_patterns.html">Match Patterns</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../extensions/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../../../extensions/faq">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-extensions">Google Groups</a>
                            </li>
                            <li><a href="http://stackoverflow.com/tags/google-chrome-extension/info">Stack Overflow</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Native Client
                  <ul>
                      <li class="category">
                        <a href="../../../../native-client/overview.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../../../../native-client/overview.html">What Is Native Client?</a>
                            </li>
                            <li><a href="../../../../native-client/nacl-and-pnacl.html">NaCl and PNaCl</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../native-client/sdk/download.html">
                        SDK
                        </a>
                        <ul>
                            <li><a href="../../../../native-client/sdk/download.html">Download SDK</a>
                            </li>
                            <li><a href="../../../../native-client/sdk/examples.html">Examples</a>
                            </li>
                            <li><a href="../../../../native-client/sdk/release-notes.html">SDK Release Notes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../native-client/devguide/tutorial/tutorial-part1.html">
                        Tutorial
                        </a>
                        <ul>
                            <li><a href="../../../../native-client/devguide/tutorial/tutorial-part1.html">Part 1: Simple PNaCl Web App</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/tutorial/tutorial-part2">Part 2: SDK Build System and Chrome Apps</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../native-client/devguide/devcycle/building.html">
                        Development Cycle
                        </a>
                        <ul>
                            <li><a href="../../../../native-client/devguide/devcycle/building.html">Building</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/devcycle/running.html">Running</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/devcycle/debugging.html">Debugging</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/devcycle/vs-addin.html">Debugging with Visual Studio</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/devcycle/dynamic-loading.html">Dynamic Linking and Loading with GlibC</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../native-client/devguide/coding/application-structure.html">
                        Coding Your Application
                        </a>
                        <ul>
                            <li><a href="../../../../native-client/devguide/coding/application-structure.html">Application Structure</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/coding/native-client-modules.html">Native Client Modules</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/coding/3D-graphics.html">3D Graphics</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/coding/audio.html">Audio</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/coding/file-io.html">File I/O</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/devcycle/nacl_io">The nacl_io Library</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/coding/message-system.html">Messaging System</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/coding/progress-events.html">Progress Events</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/coding/url-loading">URL Loading</a>
                            </li>
                            <li><a href="../../../../native-client/devguide/coding/view-focus-input-events">View Change, Focus, &amp; Input Events</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../native-client/devguide/distributing.html">
                        Distribute Your Apps
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../native-client/pepper_stable/index.html">
                        Pepper API Reference
                        </a>
                        <ul>
                            <li><a href="../../../../native-client/pepper_stable/c/group___interfaces.html">Pepper C Interfaces</a>
                            </li>
                            <li><a href="../../../../native-client/pepper_stable/c/group___structs.html">Pepper C Structures</a>
                            </li>
                            <li><a href="../../../../native-client/pepper_stable/c/group___functions.html">Pepper C Functions</a>
                            </li>
                            <li><a href="../../../../native-client/pepper_stable/c/group___enums.html">Pepper C Enums</a>
                            </li>
                            <li><a href="../../../../native-client/pepper_stable/c/group___typedefs.html">Pepper C Typedefs</a>
                            </li>
                            <li><a href="http://developer.chrome.com/native-client/pepper_stable/c/global_defs">Pepper C Macros</a>
                            </li>
                            <li><a href="../../../../native-client/pepper_stable/cpp/inherits.html">Pepper C++ Classes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../native-client/glossary.html">
                        Additional Reference &amp; Versions
                        </a>
                        <ul>
                            <li><a href="../../../../native-client/glossary.html">Glossary</a>
                            </li>
                            <li><a href="../../../../native-client/reference/nacl-manifest-format.html">Native Client Manifest (nmf) Format</a>
                            </li>
                            <li><a href="../../../../native-client/reference/pnacl-bitcode-abi.html">PNaCl Bitcode Reference Manual</a>
                            </li>
                            <li><a href="../../../../native-client/reference/pnacl-c-cpp-language-support.html">PNaCl C/C++ Language Support</a>
                            </li>
                            <li><a href="../../../../native-client/reference/sandbox_internals/index">Sandbox Internals</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../native-client/faq.html">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../../../native-client/faq.html">FAQ</a>
                            </li>
                            <li><a href="../../../../native-client/help.html">Forums &amp; Issues Tracker</a>
                            </li>
                            <li><a href="../../../../native-client/publications-and-presentations">Publications &amp; Presentations</a>
                            </li>
                            <li><a href="../../../../native-client/community/security-contest/index.html">Security Contest Archive</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Store
                  <ul>
                      <li class="category">
                        <a href="../../../../webstore/index.html">
                        What Is the Chrome Web Store?
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../webstore/overview.html">
                        What Can You Publish?
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../webstore/get_started_simple.html">
                        Tutorial: Getting Started
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../webstore/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../webstore/branding.html">
                        Branding
                        </a>
                        <ul>
                            <li><a href="../../../../webstore/branding.html">Branding Guidelines</a>
                            </li>
                            <li><a href="../../../../webstore/images.html">Supplying Images</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../webstore/money.html">
                        Monetizing
                        </a>
                        <ul>
                            <li><a href="../../../../webstore/money.html">Monetizing Your App</a>
                            </li>
                            <li><a href="../../../../webstore/identify_user.html">Using Google Accounts</a>
                            </li>
                            <li><a href="../../../../webstore/check_for_payment.html">Checking for Payment</a>
                            </li>
                            <li><a href="../../../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../../../webstore/pricing.html">Pricing</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../webstore/publish.html">
                        Publishing
                        </a>
                        <ul>
                            <li><a href="../../../../webstore/publish.html">Publishing Tutorial</a>
                            </li>
                            <li><a href="../../../../webstore/i18n.html">Internationalizing Your App</a>
                            </li>
                            <li><a href="../../../../webstore/inline_installation.html">Using Inline Installation</a>
                            </li>
                            <li><a href="../../../../webstore/rating.html">Rating Guidelines</a>
                            </li>
                            <li><a href="../../../../webstore/program_policies.html">Program Policies</a>
                            </li>
                            <li><a href="../../../../webstore/terms.html">Terms of Service</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../../webstore/best_practices.html">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../../../webstore/best_practices.html">Best Practices</a>
                            </li>
                            <li><a href="../../../../webstore/faq.html">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps">Google Groups</a>
                            </li>
                            <li><a href="../../../../webstore/articles">Articles</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
        <li id="search">
          <img src="../../../../static/images/search.png">
          <div class="expandee">
      
      <!-- override search styles set globally by site.css -->
      <style>
      .gsc-above-wrapper-area, .gsc-result-info {
        font-size: 11px;
      }
      .gs-webResult div, .gs-result div {
        line-height: initial;
      }
      .gs-webResult a, .gs-result a {
        text-decoration: none;
      }
      td.gcsc-branding-img-noclear, .gcsc-branding-img-noclear a {
        width: 51px;
        height: 15px;
        vertical-align: top;
      }
      .gsc-table-result, .gsc-thumbnail-inside, .gsc-url-top {
        padding: 0;
      }
      .gsc-control-cse tr, .gsc-control-cse td, .gsc-control-cse th {
       padding: inherit;
       border: none;
      }
      .gsc-control-cse {
        white-space: normal;
        border: none;
        padding: 0 1em;
      }
      #search .gsc-control-cse img {
        height: inherit;
        width: inherit;
      }
      .gsc-control-cse table {
        margin: initial;
      }
      .gsc-control-cse * {
        box-sizing: initial;
        -webkit-box-sizing: initial;
        -moz-box-sizing: initial;
      }
      #fatnav .expandee .gsc-control-cse a {
       padding: 0;
       color: inherit;
      }
      </style>
      
            <form id="chrome-docs-cse-search-form" action="http://google.com/cse">
              <input type="search" id="chrome-docs-cse-input" name="q" placeholder="What are you looking for?">
              <input type="hidden" name="cx" value="010997258251033819707:7owyldxmpkc" />
              <input type="hidden" name="ie" value="UTF-8" />
            </form>
            <gcse:searchresults-only gname="results"></gcse:searchresults-only>
          </div>
        </li>
      </ul>
      </nav>
          </header>

    <main id="gc-pagecontent" role="main">


<article class="article-content">
  <div itemprop="articleBody">


<h1>Timeline demo: Diagnosing forced synchronous layouts</h1>

    <p>This demo shows how you can use the Timeline to identify a kind of performance bottle-neck called 'forced synchronous layouts'. The demo application animates several images back and forth using <code><a href="http://docs.webplatform.org/wiki/apis/timing/methods/requestAnimationFrame" _target="_blank">requestAnimationFrame()</a></code>, the <a href="http://updates.html5rocks.com/2012/05/requestAnimationFrame-API-now-with-sub-millisecond-precision" target="_blank">recommended approach</a> for performing frame-based animation. But there's a considerable amount of stuttering and jank as the animation runs We'll use the Timeline to diagnose what's going on.</p>

   <p>For more information about using Frames mode and forced asynchronous layouts see <a href="http://developer.chrome.com/devtools/docs/demos/too-much-layout/using-timeline.html#locating_forced_synchronous_layouts">Locating forced synchronous layouts</a> in <a href="http://developer.chrome.com/chrome-developer-tools/docs/using-timeline">Using the Timeline</a>.</p>

<div class="collapsible">
    <h2>
        Make a recording
    </h2>

    <p>
        First you'll make a recording of the animation.</p>
    <ol>
        <li>Click <strong>Start</strong> to start the animation.</li>
        <li>Open the Timeline panel on this page, and go the Frames view.</li>
        <li>Click the Record button in the Timeline.</li>
        <li>After after a second or two (10-12 frames recorded) stop the recording and click <strong>Stop</strong> to stop the animation.</li>
    </ol>

<!--     <section class="expandable">
         <button type="button" class="button-red button expand-control" id="show-hide-1">Show/Hide Demo</button>
 -->

        <button id="toggle">Start</button>

        <div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
                <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
                <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
                <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
                <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
                <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>
        <div class="mover"></div>

        </div>

        <script src="source.js"></script>        

</div>
<div class="collapsible">
    <h2>Analyze the recording</h2>

    <p>
        Looking at the recording of the first few frames it's clear that each one is taking over 300ms to complete. If you hover your mouse over one of the frames a pop-up appears showing additional details about the frame.</p>

       <div class="screenshot"> <img src="images/frame-rate.png" alt=""></div>
    <p>
        Locate an Animation Frame Fired record and notice the yellow warning icon next to it, indicating a forced synchronous layout. The icon is slightly dimmed indicating that one of its child records contains the offending code, rather than this record itself. Expand the Animation Frame Fired to view its children.
    </p>

    <div class="screenshot"><img src="images/recording-1.png"></div>

    <p>
        The child records show a long, repeating pattern of <strong>Recalculate Style</strong> and <strong>Layout</strong> records. Each layout record is a result of the style recalculation that, in turn, is a result of the <code>requestAnimationFrame()</code> handler requesting the value of <code>offsetTop</code> for each image on the page. Hover your mouse over one of the Layout records and click the link for sources.js next to the Layout Forced property.
    
    <div class="screenshot"><img src="images/layout-warning-hover.png"></div>
    
    <p>
        The Sources panel opens at line 43 of the source file at the <code>update()</code> function, which is the <code>requestAnimationCallback()</code> callback handler. The handler computes the image's <code>left</code> CSS style proeprty on the the image's <code>offsetTop</code> value. This forces Chrome to perform a new layout immediately to make sure it provides the correct value.
    </p>

    <pre class="prettyprint lang-js">
// Animation loop
function update(timestamp) {
    for(var m = 0; m < movers.length; m++) {
        movers[m].style.left = ((Math.sin(movers[m].offsetTop + timestamp/1000)+1) * 500) + 'px';
        }
    raf = window.requestAnimationFrame(update);
};
</pre>

<p>We know that forcing a page layout during every animation frame is slowing things down. Now we can try to fix the problem directly in DevTools.</p>

</div>
<div class="collapsible">
    <h2>Apply fix within DevTools</h2>

    <p>Now that we have an idea what's causing the performance issues, we can modify the JavaScript file directly in the Sources panel and test our changes right away.</p>
    
    <ol>
        <li>In the Sources panel that was opened previously, replace line 43 with the following code.</li>
            <code style="prettyprint" lang-js><pre>movers[m].style.left = ((Math.sin(m + timestamp/1000)+1) * 500) + 'px';</pre></code>
            <p>This version computes each image's <code>left</code> style property on its index in its holding array instead of on a layout-dependent property (<code>offsetWidth</code>).</p>

        <li>Save your changes by pressing Cmd-S or Ctrl-S.</li>
    </ol>

</div>
<div class="collapsible">
<h2>Verify with another recording</h2>

        <p>The animation is clearly faster and smoother than before, but it's always good practice to measure the difference with another recording. It should look something like the recording below.</p>

        <div class="screenshot"><img src="images/fixed.png"></div>

</div>
    
    <footer id="cc-info">
      <button id="send-feedback" class="google-button" data-feedback>Send Feedback</button>
      <!--p class="last-updated">Last updated August 2, 2013.</p-->
      <p class="cc-logo"><a href="http://creativecommons.org/licenses/by/3.0/"><img src="../../../../static/images/cc_by.png" alt="Licensed Creative Commons by Attribution"></a></p>
    </footer>
    <nav class="inline-toc no-permalink">
      <section class="related">
                  <h3 title="">Performance &amp; Profiling</h3>
      <ol class="toc">
                        <li>
                          <a href="../../network.md">Evaluating Network Performance</a>
                        </li>
                        <li>
                          <a href="../../timeline.html">Using the Timeline</a>
                        </li>
                        <li>
                          <a href="index" class="active">Timeline Demo: Finding Forced Synchronous Layouts</a>
                        </li>
                        <li>
                          <a href="../../cpu-profiling.html">Profiling JavaScript Performance</a>
                        </li>
                        <li>
                          <a href="../../javascript-memory-profiling.md">JavaScript Memory Profiling</a>
                        </li>
                        <li>
                          <a href="../../clean-testing-environment.html">Setting Up a Clean Testing Environment</a>
                        </li>
      </ol>
      </section>
      <section id="toc">
    <h3>Contents</h3>
    <ol class="toc">
      <li class="toplevel"><a data-list-item href="index#"
          >        Make a recording    </a>
      </li>
      <li class="toplevel"><a data-list-item href="index#"
          >Analyze the recording</a>
      </li>
      <li class="toplevel"><a data-list-item href="index#"
          >Apply fix within DevTools</a>
      </li>
      <li class="toplevel"><a data-list-item href="index#"
          >Verify with another recording</a>
      </li>
    </ol>
</section>

    </nav>
  </div>
</article>
    </main>

    <footer id="gc-footer" role="contentinfo" class="span-full">
      <div class="g-section g-tpl-50-50">
        <div class="g-unit g-first">
          <nav class="links">
            <a href="https://www.google.com/">Google</a><a href="https://developers.google.com/site-terms">Terms of Service</a><a href="http://www.google.com/intl/en/privacy/">Privacy Policy</a><a href="index" data-feedback>Report a bug</a>
          </nav>
        </div>
        <div class="g-unit g-last">
          <div id="social-buttons">
            <div data-size="small" data-href="http://www.google.com/chrome" data-annotation="bubble" class="g-plusone"></div>
            <a rel="publisher" target="_blank" href="https://plus.google.com/+GoogleChromeDevelopers?prsrc=3" data-g-label="plus" data-g-event="nav-subfooter">Add us on <span class="element-invisible">Google+</span><img src="http://ssl.gstatic.com/images/icons/gplus-16.png" data-g-label="plus" data-g-event="nav-subfooter" alt=""></a>
          </div>
        </div>
      </div>
    </footer>

  </div>

    <script src="../../../../static/js/fatnav.js"></script>
    <script src="../../../../static/js/article.js"></script>
    <script src="../../../../static/js/prettify.js"></script>
    <script src="../../../../static/js/search.js"></script>
    <script src="http://www.gstatic.com/feedback/api.js"></script>
    <script src="../../../../static/js/site.js"></script>
  </body>
</html>
