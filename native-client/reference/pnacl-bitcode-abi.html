<link href="../_static/css/nacl.css" rel="stylesheet" type="text/css">
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">
    <link type="image/ico" rel="icon" href="http://www.google.com/images/icons/product/chrome-32.png">

    <link href="../../static/css/out/site.css" rel="stylesheet" type="text/css">
    <link href="../../static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../../static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41980257-1');
  ga('send', 'pageview');

</script>

    <title>PNaCl Bitcode Reference Manual - Google Chrome</title>
  </head>

  <body>
    <div id="gc-container">
    <a href="pnacl-bitcode-abi.html#gc-pagecontent" class="element-invisible element-focusable">Skip to main content</a>

    <header id="topnav" role="banner">
      <div id="logo">
        <a href="../../index.html">
          <img alt="Chrome: developer" src="../../static/images/chrome-logo_2x.png">
        </a>
        <span class="collase-icon"><!-- <img src="/static/images/burger-icon.png" class="collase-icon">--></span>
      </div>
      <nav id="fatnav" role="navigation">
      <ul>
          <li class="pillar">
            <span class="toplevel">Devtools</span>
            <ul class="expandee">
                <li class="submenu">Learn Basics
                  <ul>
                      <li class="category">
                        <a href="../../devtools/index.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/authoring-development-workflow.html">
                        Authoring &amp; Development Workflow
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/console.md">
                        Using the Console
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/tips-and-tricks.html">
                        Tips &amp; Tricks
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/videos.html">
                        Additional Resources
                        </a>
                        <ul>
                            <li><a href="../../devtools/docs/videos.html">Videos</a>
                            </li>
                            <li><a href="../../devtools/docs/blog-posts">Blog Posts</a>
                            </li>
                            <li><a href="https://groups.google.com/forum/?fromgroups#!forum/google-chrome-developer-tools">Mailing List</a>
                            </li>
                            <li><a href="../../devtools/docs/contributing.html">Contributing to DevTools</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Use Tools
                  <ul>
                      <li class="category">
                        <a href="../../devtools/docs/dom-and-styles.html">
                        Inspecting &amp; Tweaking
                        </a>
                        <ul>
                            <li><a href="../../devtools/docs/elements">Editing Styles &amp; DOM</a>
                            </li>
                            <li><a href="../../devtools/docs/css-preprocessors.html">Working with CSS Preprocessors</a>
                            </li>
                            <li><a href="../../devtools/docs/resource-panel.md">Managing Application Storage</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/javascript-debugging.html">
                        Debugging JavaScript
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/mobile-emulation.html">
                        Mobile Emulation
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/protocol/tot/remote-debugging.html">
                        Remote Debugging on Android
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Performance &amp; Profiling
                  <ul>
                      <li class="category">
                        <a href="../../devtools/docs/network.md">
                        Evaluating Network Performance
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/timeline.html">
                        Using the Timeline
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/demos/too-much-layout/index">
                        Timeline Demo: Finding Forced Synchronous Layouts
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/cpu-profiling.html">
                        Profiling JavaScript Performance
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/javascript-memory-profiling.md">
                        JavaScript Memory Profiling
                        </a>
                        <ul>
                            <li><a href="../../devtools/docs/javascript-memory-profiling.md">JavaScript Memory Profiling</a>
                            </li>
                            <li><a href="../../devtools/docs/heap-profiling-summary.html">Demos</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/clean-testing-environment.html">
                        Setting Up a Clean Testing Environment
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Reference
                  <ul>
                      <li class="category">
                        <a href="../../devtools/docs/console-api.md">
                        Console API Reference
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/commandline-api.md">
                        Command Line API Reference
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/integrating.md">
                        DevTools Extensions API
                        </a>
                        <ul>
                            <li><a href="../../devtools/docs/integrating.md">Integrating with DevTools</a>
                            </li>
                            <li><a href="../../devtools/docs/sample-extensions.md">Sample DevTools Extensions</a>
                            </li>
                            <li><a href="../../devtools/docs/debugging-clients.md">Sample DevTools Protocol Clients</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/shortcuts.html">
                        Keyboard Shortcuts
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/settings.html">
                        Settings
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/debugger-protocol.html">
                        Remote Debugging Protocol
                        </a>
                        <ul>
                            <li><a href="../../devtools/docs/debugger-protocol.html">Remote Debugging Protocol</a>
                            </li>
                            <li><a href="../../devtools/docs/protocol/1.1/index.html">Version 1.1</a>
                            </li>
                            <li><a href="../../devtools/docs/protocol/1.0/index.html">Version 1.0</a>
                            </li>
                            <li><a href="../../devtools/docs/protocol/0.1/index.html">Version .1</a>
                            </li>
                            <li><a href="../../devtools/docs/protocol/tot/index.html">Tip-of-tree</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">Multi-device</span>
            <ul class="expandee">
                <li class="submenu">Getting Started
                  <ul>
                      <li class="category">
                        <a href="../../multidevice/index.html">
                        Chrome for a Multi-Device World
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/data-compression">
                        Data Compression Proxy
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/user-agent.html">
                        User Agents
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/mobile-emulation.html">
                        Mobile Emulation
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../devtools/docs/protocol/tot/remote-debugging.html">
                        Remote Debugging
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/faq.html">
                        FAQ
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome for Android
                  <ul>
                      <li class="category">
                        <a href="../../multidevice/android/overview.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/android/intents.html">
                        Android Intents with Chrome
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/android/installtohomescreen.html">
                        Add to Homescreen
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome WebView
                  <ul>
                      <li class="category">
                        <a href="../../multidevice/webview/overview.html">
                        WebView for Android
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/webview/gettingstarted.html">
                        Getting Started
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/webview/pixelperfect">
                        Pixel-Perfect UI
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/webview/workflow.html">
                        WebView Workflow
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/webview/tipsandtricks">
                        Tips &amp; Tricks
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome for iOS
                  <ul>
                      <li class="category">
                        <a href="../../multidevice/ios/overview.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/ios/links.html">
                        Opening Links in Chrome
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../multidevice/ios/case-studies">
                        Case Studies
                        </a>
                        <ul>
                            <li><a href="../../multidevice/ios/case-studies">Case Studies</a>
                            </li>
                            <li><a href="../../multidevice/ios/pocket.html">Pocket</a>
                            </li>
                            <li><a href="../../multidevice/ios/feedly.html">Feedly</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">Platform</span>
            <ul class="expandee">
                <li class="submenu">Apps
                  <ul>
                      <li class="category">
                        <a href="../../apps/index.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../../apps/index.html">What Are Chrome Apps?</a>
                            </li>
                            <li><a href="../../apps/first_app.html">Create Your First App</a>
                            </li>
                            <li><a href="../../apps/app_architecture.html">App Architecture</a>
                            </li>
                            <li><a href="../../extensions/app_lifecycle.html">App Lifecycle</a>
                            </li>
                            <li><a href="../../apps/contentSecurityPolicy.html">Content Security Policy</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../apps/app_codelab1_setup.html">
                        Learn with Codelab
                        </a>
                        <ul>
                            <li><a href="../../apps/app_codelab1_setup.html">1 - Set Up Development Environment</a>
                            </li>
                            <li><a href="../../apps/app_codelab2_basic.html">2 - Create Basic App</a>
                            </li>
                            <li><a href="../../apps/app_codelab3_mvc.html">3 - Create MVC</a>
                            </li>
                            <li><a href="../../apps/app_codelab5_data.html">4 - Save &amp; Fetch Data</a>
                            </li>
                            <li><a href="../../apps/app_codelab6_lifecycle.html">5 - Manage App Lifecycle</a>
                            </li>
                            <li><a href="../../apps/app_codelab7_useridentification.html">6 - Access User's Data</a>
                            </li>
                            <li><a href="../../apps/app_codelab8_webresources.html">7 - Access Web Resources</a>
                            </li>
                            <li><a href="../../apps/app_codelab_10_publishing.html">8 - Publish App</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../apps/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../apps/offline_apps.html">
                        Develop in the Cloud
                        </a>
                        <ul>
                            <li><a href="../../apps/offline_apps.html">Offline First</a>
                            </li>
                            <li><a href="../../extensions/app_external.html">Handling External Content</a>
                            </li>
                            <li><a href="../../apps/app_storage.html">Storing Data</a>
                            </li>
                            <li><a href="../../apps/cloudMessaging.html">Cloud Messaging</a>
                            </li>
                            <li><a href="../../apps/app_identity.html">User Authentication</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../apps/app_usb.html">
                        User Low-Level System Services
                        </a>
                        <ul>
                            <li><a href="../../apps/app_usb.html">USB</a>
                            </li>
                            <li><a href="../../apps/app_serial">Serial</a>
                            </li>
                            <li><a href="../../apps/app_network.html">Network Communications</a>
                            </li>
                            <li><a href="../../apps/app_bluetooth.html">Bluetooth</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../apps/app_frameworks.html">
                        MVC Architecture &amp; Frameworks
                        </a>
                        <ul>
                            <li><a href="../../apps/app_frameworks.html">About MVC Architecture</a>
                            </li>
                            <li><a href="../../apps/angular_framework.html">Build Apps with AngularJS</a>
                            </li>
                            <li><a href="../../apps/sencha_framework.html">Build Apps with SenchaJS</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../extensions/publish_app.html">
                        Distribute Apps
                        </a>
                        <ul>
                            <li><a href="../../extensions/publish_app.html">Publish Your App</a>
                            </li>
                            <li><a href="../../apps/google_wallet.html">Monetize Your App</a>
                            </li>
                            <li><a href="../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../apps/analytics.html">Analytics</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../apps/api_index.html">
                        Chrome Platform APIs
                        </a>
                        <ul>
                            <li><a href="../../apps/api_index.html">JavaScript APIs</a>
                            </li>
                            <li><a href="../../apps/manifest.html">Manifest File Format</a>
                            </li>
                            <li><a href="../../apps/webview.html">Webview Tag</a>
                            </li>
                            <li><a href="../../apps/api_other.html">Web APIs</a>
                            </li>
                            <li><a href="../../apps/app_deprecated.html">Disabled Web Features</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../apps/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../apps/faq">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps">Google Groups</a>
                            </li>
                            <li><a href="http://stackoverflow.com/questions/tagged/google-chrome-app">Stack Overflow</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Extensions
                  <ul>
                      <li class="category">
                        <a href="../../apps/overview.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../../apps/overview.html">Overview</a>
                            </li>
                            <li><a href="../../extensions/hosting_changes">Hosting Changes</a>
                            </li>
                            <li><a href="../../extensions/event_pages.html">Event Pages</a>
                            </li>
                            <li><a href="../../extensions/content_scripts.html">Content Scripts</a>
                            </li>
                            <li><a href="../../apps/activeTab.html">activeTab Permission</a>
                            </li>
                            <li><a href="../../extensions/whats_new.html">What's New?</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../apps/getstarted.html">
                        Getting Started Tutorial
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../extensions/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../extensions/tut_migration_to_manifest_v2">
                        Develop Extensions
                        </a>
                        <ul>
                            <li><a href="../../extensions/a11y.html">Accessibility</a>
                            </li>
                            <li><a href="../../extensions/contentSecurityPolicy.html">Content Security Policy</a>
                            </li>
                            <li><a href="../../extensions/xhr.html">Cross-Origin XHR</a>
                            </li>
                            <li><a href="../../extensions/tut_debugging">Debugging</a>
                            </li>
                            <li><a href="../../extensions/i18n.html">Internationalization</a>
                            </li>
                            <li><a href="../../extensions/messaging">Message Passing</a>
                            </li>
                            <li><a href="../../extensions/tut_migration_to_manifest_v2">Migrate to Manifest 2</a>
                            </li>
                            <li><a href="../../extensions/tut_oauth">OAuth</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../extensions/hosting.html">
                        Distribute Extensions
                        </a>
                        <ul>
                            <li><a href="../../extensions/hosting.html">Hosting</a>
                            </li>
                            <li><a href="../../extensions/packaging.html">Packaging</a>
                            </li>
                            <li><a href="../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../extensions/autoupdate.html">Autoupdating</a>
                            </li>
                            <li><a href="../../extensions/external_extensions.html">Other Deployment Options</a>
                            </li>
                            <li><a href="../../extensions/tut_analytics.html">Google Analytics</a>
                            </li>
                            <li><a href="../../extensions/themes.html">Publishing Themes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../extensions/api_index.html">
                        Chrome Platform APIs
                        </a>
                        <ul>
                            <li><a href="../../extensions/api_index.html">JavaScript APIs</a>
                            </li>
                            <li><a href="../../extensions/manifest.html">Manifest File Format</a>
                            </li>
                            <li><a href="../../extensions/api_other.html">Web APIs</a>
                            </li>
                            <li><a href="../../extensions/permission_warnings.html">Permission Warnings</a>
                            </li>
                            <li><a href="../../extensions/permissions.html">Optional Permissions</a>
                            </li>
                            <li><a href="../../extensions/match_patterns.html">Match Patterns</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../extensions/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../extensions/faq">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-extensions">Google Groups</a>
                            </li>
                            <li><a href="http://stackoverflow.com/tags/google-chrome-extension/info">Stack Overflow</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Native Client
                  <ul>
                      <li class="category">
                        <a href="../overview.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../overview.html">What Is Native Client?</a>
                            </li>
                            <li><a href="../nacl-and-pnacl.html">NaCl and PNaCl</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../sdk/download.html">
                        SDK
                        </a>
                        <ul>
                            <li><a href="../sdk/download.html">Download SDK</a>
                            </li>
                            <li><a href="../sdk/examples.html">Examples</a>
                            </li>
                            <li><a href="../sdk/release-notes.html">SDK Release Notes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../devguide/tutorial/tutorial-part1.html">
                        Tutorial
                        </a>
                        <ul>
                            <li><a href="../devguide/tutorial/tutorial-part1.html">Part 1: Simple PNaCl Web App</a>
                            </li>
                            <li><a href="../devguide/tutorial/tutorial-part2">Part 2: SDK Build System and Chrome Apps</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../devguide/devcycle/building.html">
                        Development Cycle
                        </a>
                        <ul>
                            <li><a href="../devguide/devcycle/building.html">Building</a>
                            </li>
                            <li><a href="../devguide/devcycle/running.html">Running</a>
                            </li>
                            <li><a href="../devguide/devcycle/debugging.html">Debugging</a>
                            </li>
                            <li><a href="../devguide/devcycle/vs-addin.html">Debugging with Visual Studio</a>
                            </li>
                            <li><a href="../devguide/devcycle/dynamic-loading.html">Dynamic Linking and Loading with GlibC</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../devguide/coding/application-structure.html">
                        Coding Your Application
                        </a>
                        <ul>
                            <li><a href="../devguide/coding/application-structure.html">Application Structure</a>
                            </li>
                            <li><a href="../devguide/coding/native-client-modules.html">Native Client Modules</a>
                            </li>
                            <li><a href="../devguide/coding/3D-graphics.html">3D Graphics</a>
                            </li>
                            <li><a href="../devguide/coding/audio.html">Audio</a>
                            </li>
                            <li><a href="../devguide/coding/file-io.html">File I/O</a>
                            </li>
                            <li><a href="../devguide/devcycle/nacl_io">The nacl_io Library</a>
                            </li>
                            <li><a href="../devguide/coding/message-system.html">Messaging System</a>
                            </li>
                            <li><a href="../devguide/coding/progress-events.html">Progress Events</a>
                            </li>
                            <li><a href="../devguide/coding/url-loading">URL Loading</a>
                            </li>
                            <li><a href="../devguide/coding/view-focus-input-events">View Change, Focus, &amp; Input Events</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../devguide/distributing.html">
                        Distribute Your Apps
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../pepper_stable/index.html">
                        Pepper API Reference
                        </a>
                        <ul>
                            <li><a href="../pepper_stable/c/group___interfaces.html">Pepper C Interfaces</a>
                            </li>
                            <li><a href="../pepper_stable/c/group___structs.html">Pepper C Structures</a>
                            </li>
                            <li><a href="../pepper_stable/c/group___functions.html">Pepper C Functions</a>
                            </li>
                            <li><a href="../pepper_stable/c/group___enums.html">Pepper C Enums</a>
                            </li>
                            <li><a href="../pepper_stable/c/group___typedefs.html">Pepper C Typedefs</a>
                            </li>
                            <li><a href="http://developer.chrome.com/native-client/pepper_stable/c/global_defs">Pepper C Macros</a>
                            </li>
                            <li><a href="../pepper_stable/cpp/inherits.html">Pepper C++ Classes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../glossary.html">
                        Additional Reference &amp; Versions
                        </a>
                        <ul>
                            <li><a href="../glossary.html">Glossary</a>
                            </li>
                            <li><a href="nacl-manifest-format.html">Native Client Manifest (nmf) Format</a>
                            </li>
                            <li><a href="pnacl-bitcode-abi.html">PNaCl Bitcode Reference Manual</a>
                            </li>
                            <li><a href="pnacl-c-cpp-language-support.html">PNaCl C/C++ Language Support</a>
                            </li>
                            <li><a href="sandbox_internals/index">Sandbox Internals</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../faq.html">
                        Help
                        </a>
                        <ul>
                            <li><a href="../faq.html">FAQ</a>
                            </li>
                            <li><a href="../help.html">Forums &amp; Issues Tracker</a>
                            </li>
                            <li><a href="../publications-and-presentations">Publications &amp; Presentations</a>
                            </li>
                            <li><a href="../community/security-contest/index.html">Security Contest Archive</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Store
                  <ul>
                      <li class="category">
                        <a href="../../webstore/index.html">
                        What Is the Chrome Web Store?
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../webstore/overview.html">
                        What Can You Publish?
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../webstore/get_started_simple.html">
                        Tutorial: Getting Started
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../webstore/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../webstore/branding.html">
                        Branding
                        </a>
                        <ul>
                            <li><a href="../../webstore/branding.html">Branding Guidelines</a>
                            </li>
                            <li><a href="../../webstore/images.html">Supplying Images</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../webstore/money.html">
                        Monetizing
                        </a>
                        <ul>
                            <li><a href="../../webstore/money.html">Monetizing Your App</a>
                            </li>
                            <li><a href="../../webstore/identify_user.html">Using Google Accounts</a>
                            </li>
                            <li><a href="../../webstore/check_for_payment.html">Checking for Payment</a>
                            </li>
                            <li><a href="../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../webstore/pricing.html">Pricing</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../webstore/publish.html">
                        Publishing
                        </a>
                        <ul>
                            <li><a href="../../webstore/publish.html">Publishing Tutorial</a>
                            </li>
                            <li><a href="../../webstore/i18n.html">Internationalizing Your App</a>
                            </li>
                            <li><a href="../../webstore/inline_installation.html">Using Inline Installation</a>
                            </li>
                            <li><a href="../../webstore/rating.html">Rating Guidelines</a>
                            </li>
                            <li><a href="../../webstore/program_policies.html">Program Policies</a>
                            </li>
                            <li><a href="../../webstore/terms.html">Terms of Service</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../webstore/best_practices.html">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../webstore/best_practices.html">Best Practices</a>
                            </li>
                            <li><a href="../../webstore/faq.html">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps">Google Groups</a>
                            </li>
                            <li><a href="../../webstore/articles">Articles</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
        <li id="search">
          <img src="../../static/images/search.png">
          <div class="expandee">
      
      <!-- override search styles set globally by site.css -->
      <style>
      .gsc-above-wrapper-area, .gsc-result-info {
        font-size: 11px;
      }
      .gs-webResult div, .gs-result div {
        line-height: initial;
      }
      .gs-webResult a, .gs-result a {
        text-decoration: none;
      }
      td.gcsc-branding-img-noclear, .gcsc-branding-img-noclear a {
        width: 51px;
        height: 15px;
        vertical-align: top;
      }
      .gsc-table-result, .gsc-thumbnail-inside, .gsc-url-top {
        padding: 0;
      }
      .gsc-control-cse tr, .gsc-control-cse td, .gsc-control-cse th {
       padding: inherit;
       border: none;
      }
      .gsc-control-cse {
        white-space: normal;
        border: none;
        padding: 0 1em;
      }
      #search .gsc-control-cse img {
        height: inherit;
        width: inherit;
      }
      .gsc-control-cse table {
        margin: initial;
      }
      .gsc-control-cse * {
        box-sizing: initial;
        -webkit-box-sizing: initial;
        -moz-box-sizing: initial;
      }
      #fatnav .expandee .gsc-control-cse a {
       padding: 0;
       color: inherit;
      }
      </style>
      
            <form id="chrome-docs-cse-search-form" action="http://google.com/cse">
              <input type="search" id="chrome-docs-cse-input" name="q" placeholder="What are you looking for?">
              <input type="hidden" name="cx" value="010997258251033819707:7owyldxmpkc" />
              <input type="hidden" name="ie" value="UTF-8" />
            </form>
            <gcse:searchresults-only gname="results"></gcse:searchresults-only>
          </div>
        </li>
      </ul>
      </nav>
          </header>

    <main id="gc-pagecontent" role="main">


<article class="article-content">
  <div itemprop="articleBody">



<section id="pnacl-bitcode-reference-manual">
<h1 id="pnacl-bitcode-reference-manual">PNaCl Bitcode Reference Manual</h1>
<div class="contents local" id="contents" style="display: none">
<ul class="small-gap">
<li><a class="reference internal" href="pnacl-bitcode-abi.html#introduction" id="id1">Introduction</a></li>
<li><p class="first"><a class="reference internal" href="pnacl-bitcode-abi.html#high-level-structure" id="id2">High Level Structure</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="pnacl-bitcode-abi.html#data-model" id="id3">Data Model</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#linkage-types" id="id4">Linkage Types</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#calling-conventions" id="id5">Calling Conventions</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#visibility-styles" id="id6">Visibility Styles</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#global-variables" id="id7">Global Variables</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#functions" id="id8">Functions</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#aliases" id="id9">Aliases</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#named-metadata" id="id10">Named Metadata</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#module-level-inline-assembly" id="id11">Module-Level Inline Assembly</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#volatile-memory-accesses" id="id12">Volatile Memory Accesses</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#memory-model-for-concurrent-operations" id="id13">Memory Model for Concurrent Operations</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#fast-math-flags" id="id14">Fast-Math Flags</a></li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="pnacl-bitcode-abi.html#type-system" id="id15">Type System</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="pnacl-bitcode-abi.html#scalar-types" id="id16">Scalar types</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#array-and-struct-types" id="id17">Array and struct types</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#pointer-types" id="id18">Pointer types</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#undefined-values" id="id19">Undefined Values</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#constant-expressions" id="id20">Constant Expressions</a></li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="pnacl-bitcode-abi.html#other-values" id="id21">Other Values</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="pnacl-bitcode-abi.html#metadata-nodes-and-metadata-strings" id="id22">Metadata Nodes and Metadata Strings</a></li>
</ul>
</li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#intrinsic-global-variables" id="id23">Intrinsic Global Variables</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#errno-and-errors-in-arithmetic-instructions" id="id24">Errno and errors in arithmetic instructions</a></li>
<li><p class="first"><a class="reference internal" href="pnacl-bitcode-abi.html#instruction-reference" id="id25">Instruction Reference</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="pnacl-bitcode-abi.html#list-of-allowed-instructions" id="id26">List of allowed instructions</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#alloca" id="id27"><code>alloca</code></a></li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="pnacl-bitcode-abi.html#intrinsic-functions" id="id28">Intrinsic Functions</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="pnacl-bitcode-abi.html#list-of-allowed-intrinsics" id="id29">List of allowed intrinsics</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#thread-pointer-related-intrinsics" id="id30">Thread pointer related intrinsics</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#setjmp-and-longjmp" id="id31">Setjmp and Longjmp</a></li>
<li><a class="reference internal" href="pnacl-bitcode-abi.html#atomic-intrinsics" id="id32">Atomic intrinsics</a></li>
</ul>
</li>
</ul>

</div><section id="introduction">
<h2 id="introduction">Introduction</h2>
<p>This document is a reference manual for the PNaCl bitcode format. It describes
the bitcode on a <em>semantic</em> level; the physical encoding level will be described
elsewhere. For the purpose of this document, the textual form of LLVM IR is
used to describe instructions and other bitcode constructs.</p>
<p>Since the PNaCl bitcode is based to a large extent on LLVM IR as of
version 3.3, many sections in this document point to a relevant section
of the LLVM language reference manual. Only the changes, restrictions
and variations specific to PNaCl are described&#8212;full semantic
descriptions are not duplicated from the LLVM reference manual.</p>
</section><section id="high-level-structure">
<h2 id="high-level-structure">High Level Structure</h2>
<p>A PNaCl portable executable (<strong>pexe</strong> in short) is a single LLVM IR module.</p>
<section id="data-model">
<h3 id="data-model">Data Model</h3>
<p>The data model for PNaCl bitcode is fixed at little-endian ILP32: pointers are
32 bits in size. 64-bit integer types are also supported natively via the i64
type (for example, a front-end can generate these from the C/C++ type
<code>long long</code>).</p>
<p>Floating point support is fixed at IEEE 754 32-bit and 64-bit values (f32 and
f64, respectively).</p>
</section><section id="linkage-types">
<span id="bitcode-linkagetypes"></span><h3 id="linkage-types"><span id="bitcode-linkagetypes"></span>Linkage Types</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#linkage">LLVM LangRef: Linkage Types</a></p>
<p>The linkage types supported by PNaCl bitcode are <code>internal</code> and <code>external</code>.
A single function in the pexe, named <code>_start</code>, has the linkage type
<code>external</code>. All the other functions and globals have the linkage type
<code>internal</code>.</p>
</section><section id="calling-conventions">
<h3 id="calling-conventions">Calling Conventions</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#callingconv">LLVM LangRef: Calling Conventions</a></p>
<p>The only calling convention supported by PNaCl bitcode is <code>ccc</code> - the C
calling convention.</p>
</section><section id="visibility-styles">
<h3 id="visibility-styles">Visibility Styles</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#visibility-styles">LLVM LangRef: Visibility Styles</a></p>
<p>PNaCl bitcode does not support visibility styles.</p>
</section><section id="global-variables">
<span id="bitcode-globalvariables"></span><h3 id="global-variables"><span id="bitcode-globalvariables"></span>Global Variables</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#globalvars">LLVM LangRef: Global Variables</a></p>
<p>Restrictions on global variables:</p>
<ul class="small-gap">
<li>PNaCl bitcode does not support LLVM IR TLS models. See
<a class="reference internal" href="pnacl-c-cpp-language-support.html#language-support-threading"><em>Threading</em></a> for more details.</li>
<li>Restrictions on <a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-linkagetypes"><em>linkage types</em></a>.</li>
<li>The <code>addrspace</code>, <code>section</code>, <code>unnamed_addr</code> and
<code>externally_initialized</code> attributes are not supported.</li>
</ul>
<p>Every global variable must have an initializer. Each initializer must be
either a <em>SimpleElement</em> or a <em>CompoundElement</em>, defined as follows.</p>
<p>A <em>SimpleElement</em> is one of the following:</p>
<ol class="arabic simple">
<li>An i8 array literal or <code>zeroinitializer</code>:</li>
</ol>
<pre>
   [SIZE x i8] c&quot;DATA&quot;
   [SIZE x i8] zeroinitializer
</pre>
<ol class="arabic simple" start="2">
<li>A reference to a <em>GlobalValue</em> (a function or global variable) with an
optional 32-bit byte offset added to it (the addend, which may be
negative):</li>
</ol>
<pre>
   ptrtoint (TYPE* &#64;GLOBAL to i32)
   add (i32 ptrtoint (TYPE* &#64;GLOBAL to i32), i32 ADDEND)
</pre>
<p>A <em>CompoundElement</em> is a unnamed, packed struct containing more than one
<em>SimpleElement</em>.</p>
</section><section id="functions">
<h3 id="functions">Functions</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#functionstructure">LLVM LangRef: Functions</a></p>
<p>The restrictions on <a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-linkagetypes"><em>linkage types</em></a>, calling
conventions and visibility styles apply to functions. In addition, the following
are not supported for functions:</p>
<ul class="small-gap">
<li>Function attributes (either for the the function itself, its parameters or its
return type).</li>
<li>Garbage collector name (<code>gc</code>).</li>
<li>Functions with a variable number of arguments (<em>vararg</em>).</li>
<li>Alignment (<code>align</code>).</li>
</ul>
</section><section id="aliases">
<h3 id="aliases">Aliases</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#aliases">LLVM LangRef: Aliases</a></p>
<p>PNaCl bitcode does not support aliases.</p>
</section><section id="named-metadata">
<h3 id="named-metadata">Named Metadata</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#namedmetadatastructure">LLVM LangRef: Named Metadata</a></p>
<p>While PNaCl bitcode has provisions for debugging metadata, it is not considered
part of the stable ABI. It exists for tool support and should not appear in
distributed pexes.</p>
<p>Other kinds of LLVM metadata are not supported.</p>
</section><section id="module-level-inline-assembly">
<h3 id="module-level-inline-assembly">Module-Level Inline Assembly</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#moduleasm">LLVM LangRef: Module-Level Inline Assembly</a></p>
<p>PNaCl bitcode does not support inline assembly.</p>
</section><section id="volatile-memory-accesses">
<h3 id="volatile-memory-accesses">Volatile Memory Accesses</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#volatile">LLVM LangRef: Volatile Memory Accesses</a></p>
<p>PNaCl bitcode does not support volatile memory accesses. The
<code>volatile</code> attribute on loads and stores is not supported. See the
<a class="reference internal" href="pnacl-c-cpp-language-support.html"><em>PNaCl C/C++ Language Support</em></a> for more details.</p>
</section><section id="memory-model-for-concurrent-operations">
<h3 id="memory-model-for-concurrent-operations">Memory Model for Concurrent Operations</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#memmodel">LLVM LangRef: Memory Model for Concurrent Operations</a></p>
<p>See the <a class="reference external" href="http://developer.chrome.com/native-client/reference/PNaClDeveloperGuide.html">PNaCl Developer&#8217;s Guide</a> for more
details.</p>
</section><section id="fast-math-flags">
<h3 id="fast-math-flags">Fast-Math Flags</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#fastmath">LLVM LangRef: Fast-Math Flags</a></p>
<p>Fast-math mode is not currently supported by the PNaCl bitcode.</p>
</section></section><section id="type-system">
<h2 id="type-system">Type System</h2>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#typesystem">LLVM LangRef: Type System</a></p>
<p>The LLVM types allowed in PNaCl bitcode are restricted, as follows:</p>
<section id="scalar-types">
<h3 id="scalar-types">Scalar types</h3>
<ul class="small-gap">
<li><p class="first">The only scalar types allowed are integer, float (32-bit floating point),
double (64-bit floating point) and void.</p>
<ul class="small-gap">
<li>The only integer sizes allowed are i1, i8, i16, i32 and i64.</li>
<li>The only integer sizes allowed for function arguments and function return
values are i32 and i64.</li>
</ul>
</li>
</ul>
</section><section id="array-and-struct-types">
<h3 id="array-and-struct-types">Array and struct types</h3>
<p>Array and struct types are only allowed in
<a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-globalvariables"><em>global variable initializers</em></a>.</p>
</section><section id="pointer-types">
<span id="bitcode-pointertypes"></span><h3 id="pointer-types"><span id="bitcode-pointertypes"></span>Pointer types</h3>
<p>Only the following pointer types are allowed:</p>
<ul class="small-gap">
<li>Pointers to valid PNaCl bitcode scalar types, as specified above.</li>
<li>Pointers to functions.</li>
</ul>
<p>In addition, the address space for all pointers must be 0.</p>
<p>A pointer is <em>inherent</em> when it represents the return value of an <code>alloca</code>
instruction, or is an address of a global value.</p>
<p>A pointer is <em>normalized</em> if it&#8217;s either:</p>
<ul class="small-gap">
<li><em>inherent</em></li>
<li>Is the return value of a <code>bitcast</code> instruction.</li>
<li>Is the return value of a <code>inttoptr</code> instruction.</li>
</ul>
</section><section id="undefined-values">
<h3 id="undefined-values">Undefined Values</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#undefvalues">LLVM LangRef: Undefined Values</a></p>
<p><code>undef</code> is only allowed within functions, not in global variable initializers.</p>
</section><section id="constant-expressions">
<h3 id="constant-expressions">Constant Expressions</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#constant-expressions">LLVM LangRef: Constant Expressions</a></p>
<p>Constant expressions are only allowed in
<a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-globalvariables"><em>global variable initializers</em></a>.</p>
</section></section><section id="other-values">
<h2 id="other-values">Other Values</h2>
<section id="metadata-nodes-and-metadata-strings">
<h3 id="metadata-nodes-and-metadata-strings">Metadata Nodes and Metadata Strings</h3>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#metadata">LLVM LangRef: Metadata Nodes and Metadata Strings</a></p>
<p>While PNaCl bitcode has provisions for debugging metadata, it is not considered
part of the stable ABI. It exists for tool support and should not appear in
distributed pexes.</p>
<p>Other kinds of LLVM metadata are not supported.</p>
</section></section><section id="intrinsic-global-variables">
<h2 id="intrinsic-global-variables">Intrinsic Global Variables</h2>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#intrinsic-global-variables">LLVM LangRef: Intrinsic Global Variables</a></p>
<p>PNaCl bitcode does not support intrinsic global variables.</p>
</section><section id="errno-and-errors-in-arithmetic-instructions">
<span id="ir-and-errno"></span><h2 id="errno-and-errors-in-arithmetic-instructions"><span id="ir-and-errno"></span>Errno and errors in arithmetic instructions</h2>
<p>Some arithmetic instructions and intrinsics have the similar semantics to
libc math functions, but differ in the treatment of <code>errno</code>. While the
libc functions may set <code>errno</code> for domain errors, the instructions and
intrinsics do not. This is because the variable <code>errno</code> is not special
and is not required to be part of the program.</p>
</section><section id="instruction-reference">
<h2 id="instruction-reference">Instruction Reference</h2>
<section id="list-of-allowed-instructions">
<h3 id="list-of-allowed-instructions">List of allowed instructions</h3>
<p>This is a list of LLVM instructions supported by PNaCl bitcode. Where
applicable, PNaCl-specific restrictions are provided.</p>
<p>The following attributes are disallowed for all instructions:</p>
<ul class="small-gap">
<li><code>nsw</code> and <code>nuw</code></li>
<li><code>exact</code></li>
</ul>
<p>Only the LLVM instructions listed here are supported by PNaCl bitcode.</p>
<ul class="small-gap">
<li><code>ret</code></li>
<li><code>br</code></li>
<li><p class="first"><code>switch</code></p>
<p>i1 values are disallowed for <code>switch</code>.</p>
</li>
<li><p class="first"><code>add</code>, <code>sub</code>, <code>mul</code>, <code>shl</code>,  <code>udiv</code>, <code>sdiv</code>, <code>urem</code>, <code>srem</code>,
<code>lshr</code>, <code>ashr</code></p>
<p>These arithmetic operations are disallowed on values of type <code>i1</code>.</p>
<p>Integer division (<code>udiv</code>, <code>sdiv</code>, <code>urem</code>, <code>srem</code>) by zero is
guaranteed to trap in PNaCl bitcode.</p>
</li>
<li><code>and</code></li>
<li><code>or</code></li>
<li><code>xor</code></li>
<li><code>fadd</code></li>
<li><code>fsub</code></li>
<li><code>fmul</code></li>
<li><code>fdiv</code></li>
<li><p class="first"><code>frem</code></p>
<p>The frem instruction has the semantics of the libc fmod function for
computing the floating point remainder. If the numerator is infinity, or
denominator is zero, or either are NaN, then the result is NaN.
Unlike the libc fmod function, this does not set <code>errno</code> when the
result is NaN (see the <a class="reference internal" href="pnacl-bitcode-abi.html#ir-and-errno"><em>instructions and errno</em></a>
section).</p>
</li>
<li><p class="first"><code>alloca</code></p>
<p>See <a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-allocainst"><em>alloca instructions</em></a>.</p>
</li>
<li><p class="first"><code>load</code>, <code>store</code></p>
<p>The pointer argument of these instructions must be a <em>normalized</em> pointer (see
<a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-pointertypes"><em>pointer types</em></a>). The <code>volatile</code> and <code>atomic</code>
attributes are not supported. Loads and stores of the type <code>i1</code> are not
supported.</p>
<p>These instructions must use <code>align 1</code> on integer memory accesses, <code>align 4</code>
for <code>float</code> accesses and <code>align 8</code> for <code>double</code> accesses.</p>
</li>
<li><code>trunc</code></li>
<li><code>zext</code></li>
<li><code>sext</code></li>
<li><code>fptrunc</code></li>
<li><code>fpext</code></li>
<li><code>fptoui</code></li>
<li><code>fptosi</code></li>
<li><code>uitofp</code></li>
<li><code>sitofp</code></li>
<li><p class="first"><code>ptrtoint</code></p>
<p>The pointer argument of a <code>ptrtoint</code> instruction must be a <em>normalized</em>
pointer (see <a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-pointertypes"><em>pointer types</em></a>) and the integer
argument must be an i32.</p>
</li>
<li><p class="first"><code>inttoptr</code></p>
<p>The integer argument of a <code>inttoptr</code> instruction must be an i32.</p>
</li>
<li><p class="first"><code>bitcast</code></p>
<p>The pointer argument of a <code>bitcast</code> instruction must be a <em>inherent</em> pointer
(see <a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-pointertypes"><em>pointer types</em></a>).</p>
</li>
<li><code>icmp</code></li>
<li><code>fcmp</code></li>
<li><code>phi</code></li>
<li><code>select</code></li>
<li><code>call</code></li>
<li><code>unreachable</code></li>
</ul>
</section><section id="alloca">
<span id="bitcode-allocainst"></span><h3 id="alloca"><span id="bitcode-allocainst"></span><code>alloca</code></h3>
<p>The only allowed type for <code>alloca</code> instructions in PNaCl bitcode is i8. The
size argument must be an i32. For example:</p>
<pre>
  %buf = alloca i8, i32 8, align 4
</pre>
</section></section><section id="intrinsic-functions">
<h2 id="intrinsic-functions">Intrinsic Functions</h2>
<p><a class="reference external" href="http://llvm.org/releases/3.3/docs/LangRef.html#intrinsics">LLVM LangRef: Intrinsic Functions</a></p>
<section id="list-of-allowed-intrinsics">
<h3 id="list-of-allowed-intrinsics">List of allowed intrinsics</h3>
<p>The only intrinsics supported by PNaCl bitcode are the following.</p>
<ul class="small-gap">
<li><code>llvm.memcpy</code></li>
<li><code>llvm.memmove</code></li>
<li><p class="first"><code>llvm.memset</code></p>
<p>These intrinsics are only supported with an i32 <code>len</code> argument.</p>
</li>
<li><p class="first"><code>llvm.bswap</code></p>
<p>The overloaded <code>llvm.bswap</code> intrinsic is only supported with the following
argument types: i16, i32, i64 (the types supported by C-style GCC builtins).</p>
</li>
<li><code>llvm.ctlz</code></li>
<li><code>llvm.cttz</code></li>
<li><p class="first"><code>llvm.ctpop</code></p>
<p>The overloaded llvm.ctlz, llvm.cttz, and llvm.ctpop intrinsics are only
supported with the i32 and i64 argument types (the types supported by
C-style GCC builtins).</p>
</li>
<li><p class="first"><code>llvm.sqrt</code></p>
<p>The overloaded <code>llvm.sqrt</code> intrinsic is only supported for float
and double arguments types. This has the same semantics as the libc
sqrt function, returning NaN for values less than -0.0. However, this
does not set <code>errno</code> when the result is NaN (see the
<a class="reference internal" href="pnacl-bitcode-abi.html#ir-and-errno"><em>instructions and errno</em></a> section).</p>
</li>
<li><code>llvm.stacksave</code></li>
<li><p class="first"><code>llvm.stackrestore</code></p>
<p>These intrinsics are used to implement language features like scoped automatic
variable sized arrays in C99. <code>llvm.stacksave</code> returns a value that
represents the current state of the stack. This value may only be used as the
argument to <code>llvm.stackrestore</code>, which restores the stack to the given
state.</p>
</li>
<li><p class="first"><code>llvm.trap</code></p>
<p>This intrinsic is lowered to a target dependent trap instruction, which aborts
execution.</p>
</li>
<li><p class="first"><code>llvm.nacl.read.tp</code></p>
<p>See <a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-threadpointerintrinsics"><em>thread pointer related intrinsics</em></a>.</p>
</li>
<li><code>llvm.nacl.longjmp</code></li>
<li><p class="first"><code>llvm.nacl.setjmp</code></p>
<p>See <a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-setjmplongjmp"><em>Setjmp and Longjmp</em></a>.</p>
</li>
<li><code>llvm.nacl.atomic.store</code></li>
<li><code>llvm.nacl.atomic.load</code></li>
<li><code>llvm.nacl.atomic.rmw</code></li>
<li><code>llvm.nacl.atomic.cmpxchg</code></li>
<li><code>llvm.nacl.atomic.fence</code></li>
<li><code>llvm.nacl.atomic.fence.all</code></li>
<li><p class="first"><code>llvm.nacl.atomic.is.lock.free</code></p>
<p>See <a class="reference internal" href="pnacl-bitcode-abi.html#bitcode-atomicintrinsics"><em>atomic intrinsics</em></a>.</p>
</li>
</ul>
</section><section id="thread-pointer-related-intrinsics">
<span id="bitcode-threadpointerintrinsics"></span><h3 id="thread-pointer-related-intrinsics"><span id="bitcode-threadpointerintrinsics"></span>Thread pointer related intrinsics</h3>
<pre>
  declare i8* &#64;llvm.nacl.read.tp()
</pre>
<p>Returns a read-only thread pointer. The value is controlled by the embedding
sandbox&#8217;s runtime.</p>
</section><section id="setjmp-and-longjmp">
<span id="bitcode-setjmplongjmp"></span><h3 id="setjmp-and-longjmp"><span id="bitcode-setjmplongjmp"></span>Setjmp and Longjmp</h3>
<pre>
  declare void &#64;llvm.nacl.longjmp(i8* %jmpbuf, i32)
  declare i32 &#64;llvm.nacl.setjmp(i8* %jmpbuf)
</pre>
<p>These intrinsics implement the semantics of C11 <code>setjmp</code> and <code>longjmp</code>. The
<code>jmpbuf</code> pointer must be 64-bit aligned and point to at least 1024 bytes of
allocated memory.</p>
</section><section id="atomic-intrinsics">
<span id="bitcode-atomicintrinsics"></span><h3 id="atomic-intrinsics"><span id="bitcode-atomicintrinsics"></span>Atomic intrinsics</h3>
<pre>
  declare iN &#64;llvm.nacl.atomic.load.&lt;size&gt;(
          iN* &lt;source&gt;, i32 &lt;memory_order&gt;)
  declare void &#64;llvm.nacl.atomic.store.&lt;size&gt;(
          iN &lt;operand&gt;, iN* &lt;destination&gt;, i32 &lt;memory_order&gt;)
  declare iN &#64;llvm.nacl.atomic.rmw.&lt;size&gt;(
          i32 &lt;computation&gt;, iN* &lt;object&gt;, iN &lt;operand&gt;, i32 &lt;memory_order&gt;)
  declare iN &#64;llvm.nacl.atomic.cmpxchg.&lt;size&gt;(
          iN* &lt;object&gt;, iN &lt;expected&gt;, iN &lt;desired&gt;,
          i32 &lt;memory_order_success&gt;, i32 &lt;memory_order_failure&gt;)
  declare void &#64;llvm.nacl.atomic.fence(i32 &lt;memory_order&gt;)
  declare void &#64;llvm.nacl.atomic.fence.all()
</pre>
<p>Each of these intrinsics is overloaded on the <code>iN</code> argument, which is
reflected through <code>&lt;size&gt;</code> in the overload&#8217;s name. Integral types of
8, 16, 32 and 64-bit width are supported for these arguments.</p>
<p>The <code>&#64;llvm.nacl.atomic.rmw</code> intrinsic implements the following
read-modify-write operations, from the general and arithmetic sections
of the C11/C++11 standards:</p>
<blockquote>
<div><ul class="small-gap">
<li><code>add</code></li>
<li><code>sub</code></li>
<li><code>or</code></li>
<li><code>and</code></li>
<li><code>xor</code></li>
<li><code>exchange</code></li>
</ul>
</div></blockquote>
<p>For all of these read-modify-write operations, the returned value is
that at <code>object</code> before the computation. The <code>computation</code> argument
must be a compile-time constant.</p>
<p>All atomic intrinsics also support C11/C++11 memory orderings, which
must be compile-time constants.</p>
<p>Integer values for these computations and memory orderings are defined
in <code>&quot;llvm/IR/NaClAtomicIntrinsics.h&quot;</code>.</p>
<p>The <code>&#64;llvm.nacl.atomic.fence.all</code> intrinsic is equivalent to the
<code>&#64;llvm.nacl.atomic.fence</code> intrinsic with sequentially consistent
ordering and compiler barriers preventing most non-atomic memory
accesses from reordering around it.</p>
<aside class="note">
<blockquote>
<div>These intrinsics allow PNaCl to support C11/C++11 style atomic
operations as well as some legacy GCC-style <code>__sync_*</code> builtins
while remaining stable as the LLVM codebase changes. The user isn&#8217;t
expected to use these intrinsics directly.</div></blockquote>

</aside>
<pre>
  declare i1 &#64;llvm.nacl.atomic.is.lock.free(i32 &lt;byte_size&gt;, i8* &lt;address&gt;)
</pre>
<p>The <code>llvm.nacl.atomic.is.lock.free</code> intrinsic is designed to
determine at translation time whether atomic operations of a certain
<code>byte_size</code> (a compile-time constant), at a particular <code>address</code>,
are lock-free or not. This reflects the C11 <code>atomic_is_lock_free</code>
function from header <code>&lt;stdatomic.h&gt;</code> and the C++11 <code>is_lock_free</code>
member function in header <code>&lt;atomic&gt;</code>. It can be used through the
<code>__nacl_atomic_is_lock_free</code> builtin.</p>
</section></section></section>
    
    <footer id="cc-info">
      <button id="send-feedback" class="google-button" data-feedback>Send Feedback</button>
      <!--p class="last-updated">Last updated August 2, 2013.</p-->
      <p class="cc-logo"><a href="http://creativecommons.org/licenses/by/3.0/"><img src="../../static/images/cc_by.png" alt="Licensed Creative Commons by Attribution"></a></p>
    </footer>
    <nav class="inline-toc no-permalink">
      <section class="related">
                      <h3 title="">Additional Reference &amp; Versions</h3>
      <ol class="toc">
                              <li>
                                <a href="../glossary.html">Glossary</a>
                              </li>
                              <li>
                                <a href="nacl-manifest-format.html">Native Client Manifest (nmf) Format</a>
                              </li>
                              <li>
                                <a href="pnacl-bitcode-abi.html" class="active">PNaCl Bitcode Reference Manual</a>
                              </li>
                              <li>
                                <a href="pnacl-c-cpp-language-support.html">PNaCl C/C++ Language Support</a>
                              </li>
                              <li>
                                <a href="sandbox_internals/index">Sandbox Internals</a>
                              </li>
      </ol>
      </section>
      <section id="toc">
    <h3>Contents</h3>
    <ol class="toc">
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#introduction"
          >Introduction</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#high-level-structure"
          >High Level Structure</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#data-model"
          >Data Model</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#linkage-types"
          >Linkage Types</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#calling-conventions"
          >Calling Conventions</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#visibility-styles"
          >Visibility Styles</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#global-variables"
          >Global Variables</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#functions"
          >Functions</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#aliases"
          >Aliases</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#named-metadata"
          >Named Metadata</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#module-level-inline-assembly"
          >Module-Level Inline Assembly</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#volatile-memory-accesses"
          >Volatile Memory Accesses</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#memory-model-for-concurrent-operations"
          >Memory Model for Concurrent Operations</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#fast-math-flags"
          >Fast-Math Flags</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#type-system"
          >Type System</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#scalar-types"
          >Scalar types</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#array-and-struct-types"
          >Array and struct types</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#pointer-types"
          >Pointer types</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#undefined-values"
          >Undefined Values</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#constant-expressions"
          >Constant Expressions</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#other-values"
          >Other Values</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#metadata-nodes-and-metadata-strings"
          >Metadata Nodes and Metadata Strings</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#intrinsic-global-variables"
          >Intrinsic Global Variables</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#errno-and-errors-in-arithmetic-instructions"
          >Errno and errors in arithmetic instructions</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#instruction-reference"
          >Instruction Reference</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#list-of-allowed-instructions"
          >List of allowed instructions</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#alloca"
          >alloca</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#intrinsic-functions"
          >Intrinsic Functions</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#list-of-allowed-intrinsics"
          >List of allowed intrinsics</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#thread-pointer-related-intrinsics"
          >Thread pointer related intrinsics</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#setjmp-and-longjmp"
          >Setjmp and Longjmp</a>
      </li>
      <li class="toplevel"><a data-list-item href="pnacl-bitcode-abi.html#atomic-intrinsics"
          >Atomic intrinsics</a>
      </li>
    </ol>
</section>

    </nav>
  </div>
</article>
    </main>

    <footer id="gc-footer" role="contentinfo" class="span-full">
      <div class="g-section g-tpl-50-50">
        <div class="g-unit g-first">
          <nav class="links">
            <a href="https://www.google.com/">Google</a><a href="https://developers.google.com/site-terms">Terms of Service</a><a href="http://www.google.com/intl/en/privacy/">Privacy Policy</a><a href="pnacl-bitcode-abi.html" data-feedback>Report a bug</a>
          </nav>
        </div>
        <div class="g-unit g-last">
          <div id="social-buttons">
            <div data-size="small" data-href="http://www.google.com/chrome" data-annotation="bubble" class="g-plusone"></div>
            <a rel="publisher" target="_blank" href="https://plus.google.com/+GoogleChromeDevelopers?prsrc=3" data-g-label="plus" data-g-event="nav-subfooter">Add us on <span class="element-invisible">Google+</span><img src="http://ssl.gstatic.com/images/icons/gplus-16.png" data-g-label="plus" data-g-event="nav-subfooter" alt=""></a>
          </div>
        </div>
      </div>
    </footer>

  </div>

    <script src="../../static/js/fatnav.js"></script>
    <script src="../../static/js/article.js"></script>
    <script src="../../static/js/prettify.js"></script>
    <script src="../../static/js/search.js"></script>
    <script src="http://www.gstatic.com/feedback/api.js"></script>
    <script src="../../static/js/site.js"></script>
  </body>
</html>
