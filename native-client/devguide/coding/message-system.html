<link href="../../_static/css/nacl.css" rel="stylesheet" type="text/css">
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">
    <link type="image/ico" rel="icon" href="http://www.google.com/images/icons/product/chrome-32.png">

    <link href="../../../static/css/out/site.css" rel="stylesheet" type="text/css">
    <link href="../../../static/css/print.css" rel="stylesheet" type="text/css" media="print">
    <link href="../../../static/css/prettify.css" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700|Source+Code+Pro' rel='stylesheet' type='text/css'>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41980257-1');
  ga('send', 'pageview');

</script>

    <title>Messaging System - Google Chrome</title>
  </head>

  <body>
    <div id="gc-container">
    <a href="message-system.html#gc-pagecontent" class="element-invisible element-focusable">Skip to main content</a>

    <header id="topnav" role="banner">
      <div id="logo">
        <a href="../../../index.html">
          <img alt="Chrome: developer" src="../../../static/images/chrome-logo_2x.png">
        </a>
        <span class="collase-icon"><!-- <img src="/static/images/burger-icon.png" class="collase-icon">--></span>
      </div>
      <nav id="fatnav" role="navigation">
      <ul>
          <li class="pillar">
            <span class="toplevel">Devtools</span>
            <ul class="expandee">
                <li class="submenu">Learn Basics
                  <ul>
                      <li class="category">
                        <a href="../../../devtools/index.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/authoring-development-workflow.html">
                        Authoring &amp; Development Workflow
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/console.md">
                        Using the Console
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/tips-and-tricks.html">
                        Tips &amp; Tricks
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/videos.html">
                        Additional Resources
                        </a>
                        <ul>
                            <li><a href="../../../devtools/docs/videos.html">Videos</a>
                            </li>
                            <li><a href="../../../devtools/docs/blog-posts">Blog Posts</a>
                            </li>
                            <li><a href="https://groups.google.com/forum/?fromgroups#!forum/google-chrome-developer-tools">Mailing List</a>
                            </li>
                            <li><a href="../../../devtools/docs/contributing.html">Contributing to DevTools</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Use Tools
                  <ul>
                      <li class="category">
                        <a href="../../../devtools/docs/dom-and-styles.html">
                        Inspecting &amp; Tweaking
                        </a>
                        <ul>
                            <li><a href="../../../devtools/docs/elements">Editing Styles &amp; DOM</a>
                            </li>
                            <li><a href="../../../devtools/docs/css-preprocessors.html">Working with CSS Preprocessors</a>
                            </li>
                            <li><a href="../../../devtools/docs/resource-panel.md">Managing Application Storage</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/javascript-debugging.html">
                        Debugging JavaScript
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/mobile-emulation.html">
                        Mobile Emulation
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/protocol/tot/remote-debugging.html">
                        Remote Debugging on Android
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Performance &amp; Profiling
                  <ul>
                      <li class="category">
                        <a href="../../../devtools/docs/network.md">
                        Evaluating Network Performance
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/timeline.html">
                        Using the Timeline
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/demos/too-much-layout/index">
                        Timeline Demo: Finding Forced Synchronous Layouts
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/cpu-profiling.html">
                        Profiling JavaScript Performance
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/javascript-memory-profiling.md">
                        JavaScript Memory Profiling
                        </a>
                        <ul>
                            <li><a href="../../../devtools/docs/javascript-memory-profiling.md">JavaScript Memory Profiling</a>
                            </li>
                            <li><a href="../../../devtools/docs/heap-profiling-summary.html">Demos</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/clean-testing-environment.html">
                        Setting Up a Clean Testing Environment
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Reference
                  <ul>
                      <li class="category">
                        <a href="../../../devtools/docs/console-api.md">
                        Console API Reference
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/commandline-api.md">
                        Command Line API Reference
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/integrating.md">
                        DevTools Extensions API
                        </a>
                        <ul>
                            <li><a href="../../../devtools/docs/integrating.md">Integrating with DevTools</a>
                            </li>
                            <li><a href="../../../devtools/docs/sample-extensions.md">Sample DevTools Extensions</a>
                            </li>
                            <li><a href="../../../devtools/docs/debugging-clients.md">Sample DevTools Protocol Clients</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/shortcuts.html">
                        Keyboard Shortcuts
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/settings.html">
                        Settings
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/debugger-protocol.html">
                        Remote Debugging Protocol
                        </a>
                        <ul>
                            <li><a href="../../../devtools/docs/debugger-protocol.html">Remote Debugging Protocol</a>
                            </li>
                            <li><a href="../../../devtools/docs/protocol/1.1/index.html">Version 1.1</a>
                            </li>
                            <li><a href="../../../devtools/docs/protocol/1.0/index.html">Version 1.0</a>
                            </li>
                            <li><a href="../../../devtools/docs/protocol/0.1/index.html">Version .1</a>
                            </li>
                            <li><a href="../../../devtools/docs/protocol/tot/index.html">Tip-of-tree</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">Multi-device</span>
            <ul class="expandee">
                <li class="submenu">Getting Started
                  <ul>
                      <li class="category">
                        <a href="../../../multidevice/index.html">
                        Chrome for a Multi-Device World
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/data-compression">
                        Data Compression Proxy
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/user-agent.html">
                        User Agents
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/mobile-emulation.html">
                        Mobile Emulation
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../devtools/docs/protocol/tot/remote-debugging.html">
                        Remote Debugging
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/faq.html">
                        FAQ
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome for Android
                  <ul>
                      <li class="category">
                        <a href="../../../multidevice/android/overview.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/android/intents.html">
                        Android Intents with Chrome
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/android/installtohomescreen.html">
                        Add to Homescreen
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome WebView
                  <ul>
                      <li class="category">
                        <a href="../../../multidevice/webview/overview.html">
                        WebView for Android
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/webview/gettingstarted.html">
                        Getting Started
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/webview/pixelperfect">
                        Pixel-Perfect UI
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/webview/workflow.html">
                        WebView Workflow
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/webview/tipsandtricks">
                        Tips &amp; Tricks
                        </a>
                        <ul>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Chrome for iOS
                  <ul>
                      <li class="category">
                        <a href="../../../multidevice/ios/overview.html">
                        Overview
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/ios/links.html">
                        Opening Links in Chrome
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../multidevice/ios/case-studies">
                        Case Studies
                        </a>
                        <ul>
                            <li><a href="../../../multidevice/ios/case-studies">Case Studies</a>
                            </li>
                            <li><a href="../../../multidevice/ios/pocket.html">Pocket</a>
                            </li>
                            <li><a href="../../../multidevice/ios/feedly.html">Feedly</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
          <li class="pillar">
            <span class="toplevel">Platform</span>
            <ul class="expandee">
                <li class="submenu">Apps
                  <ul>
                      <li class="category">
                        <a href="../../../apps/index.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../../../apps/index.html">What Are Chrome Apps?</a>
                            </li>
                            <li><a href="../../../apps/first_app.html">Create Your First App</a>
                            </li>
                            <li><a href="../../../apps/app_architecture.html">App Architecture</a>
                            </li>
                            <li><a href="../../../extensions/app_lifecycle.html">App Lifecycle</a>
                            </li>
                            <li><a href="../../../apps/contentSecurityPolicy.html">Content Security Policy</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../apps/app_codelab1_setup.html">
                        Learn with Codelab
                        </a>
                        <ul>
                            <li><a href="../../../apps/app_codelab1_setup.html">1 - Set Up Development Environment</a>
                            </li>
                            <li><a href="../../../apps/app_codelab2_basic.html">2 - Create Basic App</a>
                            </li>
                            <li><a href="../../../apps/app_codelab3_mvc.html">3 - Create MVC</a>
                            </li>
                            <li><a href="../../../apps/app_codelab5_data.html">4 - Save &amp; Fetch Data</a>
                            </li>
                            <li><a href="../../../apps/app_codelab6_lifecycle.html">5 - Manage App Lifecycle</a>
                            </li>
                            <li><a href="../../../apps/app_codelab7_useridentification.html">6 - Access User's Data</a>
                            </li>
                            <li><a href="../../../apps/app_codelab8_webresources.html">7 - Access Web Resources</a>
                            </li>
                            <li><a href="../../../apps/app_codelab_10_publishing.html">8 - Publish App</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../apps/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../apps/offline_apps.html">
                        Develop in the Cloud
                        </a>
                        <ul>
                            <li><a href="../../../apps/offline_apps.html">Offline First</a>
                            </li>
                            <li><a href="../../../extensions/app_external.html">Handling External Content</a>
                            </li>
                            <li><a href="../../../apps/app_storage.html">Storing Data</a>
                            </li>
                            <li><a href="../../../apps/cloudMessaging.html">Cloud Messaging</a>
                            </li>
                            <li><a href="../../../apps/app_identity.html">User Authentication</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../apps/app_usb.html">
                        User Low-Level System Services
                        </a>
                        <ul>
                            <li><a href="../../../apps/app_usb.html">USB</a>
                            </li>
                            <li><a href="../../../apps/app_serial">Serial</a>
                            </li>
                            <li><a href="../../../apps/app_network.html">Network Communications</a>
                            </li>
                            <li><a href="../../../apps/app_bluetooth.html">Bluetooth</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../apps/app_frameworks.html">
                        MVC Architecture &amp; Frameworks
                        </a>
                        <ul>
                            <li><a href="../../../apps/app_frameworks.html">About MVC Architecture</a>
                            </li>
                            <li><a href="../../../apps/angular_framework.html">Build Apps with AngularJS</a>
                            </li>
                            <li><a href="../../../apps/sencha_framework.html">Build Apps with SenchaJS</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../extensions/publish_app.html">
                        Distribute Apps
                        </a>
                        <ul>
                            <li><a href="../../../extensions/publish_app.html">Publish Your App</a>
                            </li>
                            <li><a href="../../../apps/google_wallet.html">Monetize Your App</a>
                            </li>
                            <li><a href="../../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../../apps/analytics.html">Analytics</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../apps/api_index.html">
                        Chrome Platform APIs
                        </a>
                        <ul>
                            <li><a href="../../../apps/api_index.html">JavaScript APIs</a>
                            </li>
                            <li><a href="../../../apps/manifest.html">Manifest File Format</a>
                            </li>
                            <li><a href="../../../apps/webview.html">Webview Tag</a>
                            </li>
                            <li><a href="../../../apps/api_other.html">Web APIs</a>
                            </li>
                            <li><a href="../../../apps/app_deprecated.html">Disabled Web Features</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../apps/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../../apps/faq">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps">Google Groups</a>
                            </li>
                            <li><a href="http://stackoverflow.com/questions/tagged/google-chrome-app">Stack Overflow</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Extensions
                  <ul>
                      <li class="category">
                        <a href="../../../apps/overview.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../../../apps/overview.html">Overview</a>
                            </li>
                            <li><a href="../../../extensions/hosting_changes">Hosting Changes</a>
                            </li>
                            <li><a href="../../../extensions/event_pages.html">Event Pages</a>
                            </li>
                            <li><a href="../../../extensions/content_scripts.html">Content Scripts</a>
                            </li>
                            <li><a href="../../../apps/activeTab.html">activeTab Permission</a>
                            </li>
                            <li><a href="../../../extensions/whats_new.html">What's New?</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../apps/getstarted.html">
                        Getting Started Tutorial
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../extensions/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../extensions/tut_migration_to_manifest_v2">
                        Develop Extensions
                        </a>
                        <ul>
                            <li><a href="../../../extensions/a11y.html">Accessibility</a>
                            </li>
                            <li><a href="../../../extensions/contentSecurityPolicy.html">Content Security Policy</a>
                            </li>
                            <li><a href="../../../extensions/xhr.html">Cross-Origin XHR</a>
                            </li>
                            <li><a href="../../../extensions/tut_debugging">Debugging</a>
                            </li>
                            <li><a href="../../../extensions/i18n.html">Internationalization</a>
                            </li>
                            <li><a href="../../../extensions/messaging">Message Passing</a>
                            </li>
                            <li><a href="../../../extensions/tut_migration_to_manifest_v2">Migrate to Manifest 2</a>
                            </li>
                            <li><a href="../../../extensions/tut_oauth">OAuth</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../extensions/hosting.html">
                        Distribute Extensions
                        </a>
                        <ul>
                            <li><a href="../../../extensions/hosting.html">Hosting</a>
                            </li>
                            <li><a href="../../../extensions/packaging.html">Packaging</a>
                            </li>
                            <li><a href="../../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../../extensions/autoupdate.html">Autoupdating</a>
                            </li>
                            <li><a href="../../../extensions/external_extensions.html">Other Deployment Options</a>
                            </li>
                            <li><a href="../../../extensions/tut_analytics.html">Google Analytics</a>
                            </li>
                            <li><a href="../../../extensions/themes.html">Publishing Themes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../extensions/api_index.html">
                        Chrome Platform APIs
                        </a>
                        <ul>
                            <li><a href="../../../extensions/api_index.html">JavaScript APIs</a>
                            </li>
                            <li><a href="../../../extensions/manifest.html">Manifest File Format</a>
                            </li>
                            <li><a href="../../../extensions/api_other.html">Web APIs</a>
                            </li>
                            <li><a href="../../../extensions/permission_warnings.html">Permission Warnings</a>
                            </li>
                            <li><a href="../../../extensions/permissions.html">Optional Permissions</a>
                            </li>
                            <li><a href="../../../extensions/match_patterns.html">Match Patterns</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../extensions/faq">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../../extensions/faq">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-extensions">Google Groups</a>
                            </li>
                            <li><a href="http://stackoverflow.com/tags/google-chrome-extension/info">Stack Overflow</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Native Client
                  <ul>
                      <li class="category">
                        <a href="../../overview.html">
                        Learn Basics
                        </a>
                        <ul>
                            <li><a href="../../overview.html">What Is Native Client?</a>
                            </li>
                            <li><a href="../../nacl-and-pnacl.html">NaCl and PNaCl</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../sdk/download.html">
                        SDK
                        </a>
                        <ul>
                            <li><a href="../../sdk/download.html">Download SDK</a>
                            </li>
                            <li><a href="../../sdk/examples.html">Examples</a>
                            </li>
                            <li><a href="../../sdk/release-notes.html">SDK Release Notes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../tutorial/tutorial-part1.html">
                        Tutorial
                        </a>
                        <ul>
                            <li><a href="../tutorial/tutorial-part1.html">Part 1: Simple PNaCl Web App</a>
                            </li>
                            <li><a href="../tutorial/tutorial-part2">Part 2: SDK Build System and Chrome Apps</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../devcycle/building.html">
                        Development Cycle
                        </a>
                        <ul>
                            <li><a href="../devcycle/building.html">Building</a>
                            </li>
                            <li><a href="../devcycle/running.html">Running</a>
                            </li>
                            <li><a href="../devcycle/debugging.html">Debugging</a>
                            </li>
                            <li><a href="../devcycle/vs-addin.html">Debugging with Visual Studio</a>
                            </li>
                            <li><a href="../devcycle/dynamic-loading.html">Dynamic Linking and Loading with GlibC</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="application-structure.html">
                        Coding Your Application
                        </a>
                        <ul>
                            <li><a href="application-structure.html">Application Structure</a>
                            </li>
                            <li><a href="native-client-modules.html">Native Client Modules</a>
                            </li>
                            <li><a href="3D-graphics.html">3D Graphics</a>
                            </li>
                            <li><a href="audio.html">Audio</a>
                            </li>
                            <li><a href="file-io.html">File I/O</a>
                            </li>
                            <li><a href="../devcycle/nacl_io">The nacl_io Library</a>
                            </li>
                            <li><a href="message-system.html">Messaging System</a>
                            </li>
                            <li><a href="progress-events.html">Progress Events</a>
                            </li>
                            <li><a href="url-loading">URL Loading</a>
                            </li>
                            <li><a href="view-focus-input-events">View Change, Focus, &amp; Input Events</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../distributing.html">
                        Distribute Your Apps
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../pepper_stable/index.html">
                        Pepper API Reference
                        </a>
                        <ul>
                            <li><a href="../../pepper_stable/c/group___interfaces.html">Pepper C Interfaces</a>
                            </li>
                            <li><a href="../../pepper_stable/c/group___structs.html">Pepper C Structures</a>
                            </li>
                            <li><a href="../../pepper_stable/c/group___functions.html">Pepper C Functions</a>
                            </li>
                            <li><a href="../../pepper_stable/c/group___enums.html">Pepper C Enums</a>
                            </li>
                            <li><a href="../../pepper_stable/c/group___typedefs.html">Pepper C Typedefs</a>
                            </li>
                            <li><a href="http://developer.chrome.com/native-client/pepper_stable/c/global_defs">Pepper C Macros</a>
                            </li>
                            <li><a href="../../pepper_stable/cpp/inherits.html">Pepper C++ Classes</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../glossary.html">
                        Additional Reference &amp; Versions
                        </a>
                        <ul>
                            <li><a href="../../glossary.html">Glossary</a>
                            </li>
                            <li><a href="../../reference/nacl-manifest-format.html">Native Client Manifest (nmf) Format</a>
                            </li>
                            <li><a href="../../reference/pnacl-bitcode-abi.html">PNaCl Bitcode Reference Manual</a>
                            </li>
                            <li><a href="../../reference/pnacl-c-cpp-language-support.html">PNaCl C/C++ Language Support</a>
                            </li>
                            <li><a href="../../reference/sandbox_internals/index">Sandbox Internals</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../faq.html">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../faq.html">FAQ</a>
                            </li>
                            <li><a href="../../help.html">Forums &amp; Issues Tracker</a>
                            </li>
                            <li><a href="../../publications-and-presentations">Publications &amp; Presentations</a>
                            </li>
                            <li><a href="../../community/security-contest/index.html">Security Contest Archive</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
                <li class="submenu">Store
                  <ul>
                      <li class="category">
                        <a href="../../../webstore/index.html">
                        What Is the Chrome Web Store?
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../webstore/overview.html">
                        What Can You Publish?
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../webstore/get_started_simple.html">
                        Tutorial: Getting Started
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../webstore/samples.html">
                        Samples
                        </a>
                        <ul>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../webstore/branding.html">
                        Branding
                        </a>
                        <ul>
                            <li><a href="../../../webstore/branding.html">Branding Guidelines</a>
                            </li>
                            <li><a href="../../../webstore/images.html">Supplying Images</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../webstore/money.html">
                        Monetizing
                        </a>
                        <ul>
                            <li><a href="../../../webstore/money.html">Monetizing Your App</a>
                            </li>
                            <li><a href="../../../webstore/identify_user.html">Using Google Accounts</a>
                            </li>
                            <li><a href="../../../webstore/check_for_payment.html">Checking for Payment</a>
                            </li>
                            <li><a href="../../../webstore/one_time_payments">One-Time Payments</a>
                            </li>
                            <li><a href="../../../webstore/pricing.html">Pricing</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../webstore/publish.html">
                        Publishing
                        </a>
                        <ul>
                            <li><a href="../../../webstore/publish.html">Publishing Tutorial</a>
                            </li>
                            <li><a href="../../../webstore/i18n.html">Internationalizing Your App</a>
                            </li>
                            <li><a href="../../../webstore/inline_installation.html">Using Inline Installation</a>
                            </li>
                            <li><a href="../../../webstore/rating.html">Rating Guidelines</a>
                            </li>
                            <li><a href="../../../webstore/program_policies.html">Program Policies</a>
                            </li>
                            <li><a href="../../../webstore/terms.html">Terms of Service</a>
                            </li>
                        </ul>
                      </li>
                      <li class="category">
                        <a href="../../../webstore/best_practices.html">
                        Help
                        </a>
                        <ul>
                            <li><a href="../../../webstore/best_practices.html">Best Practices</a>
                            </li>
                            <li><a href="../../../webstore/faq.html">FAQ</a>
                            </li>
                            <li><a href="https://groups.google.com/a/chromium.org/forum/#!forum/chromium-apps">Google Groups</a>
                            </li>
                            <li><a href="../../../webstore/articles">Articles</a>
                            </li>
                        </ul>
                      </li>
                  </ul>
                </li>
            </ul>
          </li>
        <li id="search">
          <img src="../../../static/images/search.png">
          <div class="expandee">
      
      <!-- override search styles set globally by site.css -->
      <style>
      .gsc-above-wrapper-area, .gsc-result-info {
        font-size: 11px;
      }
      .gs-webResult div, .gs-result div {
        line-height: initial;
      }
      .gs-webResult a, .gs-result a {
        text-decoration: none;
      }
      td.gcsc-branding-img-noclear, .gcsc-branding-img-noclear a {
        width: 51px;
        height: 15px;
        vertical-align: top;
      }
      .gsc-table-result, .gsc-thumbnail-inside, .gsc-url-top {
        padding: 0;
      }
      .gsc-control-cse tr, .gsc-control-cse td, .gsc-control-cse th {
       padding: inherit;
       border: none;
      }
      .gsc-control-cse {
        white-space: normal;
        border: none;
        padding: 0 1em;
      }
      #search .gsc-control-cse img {
        height: inherit;
        width: inherit;
      }
      .gsc-control-cse table {
        margin: initial;
      }
      .gsc-control-cse * {
        box-sizing: initial;
        -webkit-box-sizing: initial;
        -moz-box-sizing: initial;
      }
      #fatnav .expandee .gsc-control-cse a {
       padding: 0;
       color: inherit;
      }
      </style>
      
            <form id="chrome-docs-cse-search-form" action="http://google.com/cse">
              <input type="search" id="chrome-docs-cse-input" name="q" placeholder="What are you looking for?">
              <input type="hidden" name="cx" value="010997258251033819707:7owyldxmpkc" />
              <input type="hidden" name="ie" value="UTF-8" />
            </form>
            <gcse:searchresults-only gname="results"></gcse:searchresults-only>
          </div>
        </li>
      </ul>
      </nav>
          </header>

    <main id="gc-pagecontent" role="main">


<article class="article-content">
  <div itemprop="articleBody">



<section id="messaging-system">
<span id="message-system"></span><h1 id="messaging-system"><span id="message-system"></span>Messaging System</h1>
<div class="contents local" id="contents" style="display: none">
<ul class="small-gap">
<li><a class="reference internal" href="message-system.html#reference-information" id="id2">Reference information</a></li>
<li><p class="first"><a class="reference internal" href="message-system.html#introduction-to-the-messaging-system" id="id3">Introduction to the messaging system</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="message-system.html#design-of-the-messaging-system" id="id4">Design of the messaging system</a></li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="message-system.html#communication-tasks-in-the-hello-world-example" id="id5">Communication tasks in the &#8220;Hello, World&#8221; example</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="message-system.html#javascript-code" id="id6">JavaScript code</a></li>
<li><a class="reference internal" href="message-system.html#native-client-module" id="id7">Native Client module</a></li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="message-system.html#messaging-in-javascript-code-more-details" id="id8">Messaging in JavaScript code: More details.</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="message-system.html#setting-up-an-event-listener-and-handler" id="id9">Setting up an event listener and handler</a></li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="message-system.html#messaging-in-the-native-client-module-more-details" id="id10">Messaging in the Native Client module: More details.</a></p>
<ul class="small-gap">
<li><a class="reference internal" href="message-system.html#implementing-handlemessage" id="id11">Implementing HandleMessage()</a></li>
<li><a class="reference internal" href="message-system.html#implementing-application-specific-functions" id="id12">Implementing application-specific functions</a></li>
<li><a class="reference internal" href="message-system.html#sending-messages-back-to-the-javascript-code" id="id13">Sending messages back to the JavaScript code</a></li>
<li><a class="reference internal" href="message-system.html#sending-and-receiving-other-pp-var-types" id="id14">Sending and receiving other <code>pp::Var</code> types</a></li>
</ul>
</li>
</ul>

</div><p>This chapter describes the messaging system used to communicate between the
JavaScript code and the Native Client module&#8217;s C or C++ code in a
Native Client application. It introduces the concept of asynchronous
programming and the basic steps required to set up a Native Client module
that sends messages to and receive messages from JavaScript. This chapter
assumes you are familiar with the material presented in the
<a class="reference internal" href="application-structure.html"><em>Application Structure</em></a> chapter.</p>
<aside class="note">
The &#8220;Hello, World&#8221; example for getting started with NaCl is used here to
illustrate basic programming techniques. You can find this code in
the <code>/getting_started/part2</code> directory in the Native Client SDK download.
</aside>
<section id="reference-information">
<h2 id="reference-information">Reference information</h2>
<p>For reference information related to the Pepper messaging API, see the
following documentation:</p>
<ul class="small-gap">
<li><a class="reference external" href="https://developers.google.com/native-client/peppercpp/classpp_1_1_instance">pp::Instance class</a> HandleMessage(), PostMessage())</li>
<li><a class="reference external" href="https://developers.google.com/native-client/peppercpp/classpp_1_1_module">pp::Module class</a></li>
<li><a class="reference external" href="https://developers.google.com/native-client/peppercpp/classpp_1_1_var">pp::Var class</a></li>
</ul>
</section><section id="introduction-to-the-messaging-system">
<h2 id="introduction-to-the-messaging-system">Introduction to the messaging system</h2>
<p>Native Client modules and JavaScript communicate by sending messages
to each other. The most basic form of a message is a string.  Messages
support many JavaScript types, including ints, arrays, array buffers,
and dictionaries (see <a class="reference external" href="https://developers.google.com/native-client/peppercpp/classpp_1_1_var">pp::Var</a>,
<a class="reference external" href="https://developers.google.com/native-client/peppercpp/classpp_1_1_var_array_buffer">pp:VarArrayBuffer</a>,
and the general <a class="reference external" href="https://developers.google.com/native-client/pepperc/struct_p_p_b___messaging__1__0">messaging system documentation</a>).
It&#8217;s up to you to decide on the type of message and define how to
process the messages on both the JavaScript and Native Client
side. For the &#8220;Hello, World&#8221; example, we will work with string-typed
messages only.</p>
<p>When JavaScript posts a message to the Native Client module, the
Pepper <code>HandleMessage()</code> function is invoked on the module
side. Similarly, the Native Client module can post a message to
JavaScript, and this message triggers a JavaScript event listener for
<code>message</code> events in the DOM. (See the W3C specification on
<a class="reference external" href="http://www.w3.org/TR/DOM-Level-2-Events/events.html">Document Object Model Events</a> for more
information.) In the &#8220;Hello, World&#8221; example, the JavaScript functions for
posting and handling messages are named <code>postMessage()</code> and
<code>handleMessage()</code> (but any names could be used). On the Native Client
C++ side, the Pepper Library functions for posting and handling
messages are:</p>
<ul class="small-gap">
<li><code>void pp::Instance::PostMessage(const Var &amp;message)</code></li>
<li><code>virtual void pp::Instance::HandleMessage(const Var &amp;message)</code></li>
</ul>
<p>If you want to receive messages from JavaScript, you need to implement the
<code>pp::Instance::HandleMessage()</code> function in your Native Client module.</p>
<section id="design-of-the-messaging-system">
<h3 id="design-of-the-messaging-system">Design of the messaging system</h3>
<p>The Native Client messaging system is analogous to the system used by
the browser to allow web workers to communicate (see the <a class="reference external" href="http://www.w3.org/TR/workers">W3 web
worker specification</a>).  The Native
Client messaging system is designed to keep the web page responsive while the
Native Client module is performing potentially heavy processing in the
background. When JavaScript sends a message to the Native Client
module, the <code>postMessage()</code> call returns as soon as it sends its message
to the Native Client module. The JavaScript does not wait for a reply
from Native Client, thus avoiding bogging down the main JavaScript
thread. On the JavaScript side, you set up an event listener to
respond to the message sent by the Native Client module when it has
finished the requested processing and returns a message.</p>
<p>This asynchronous processing model keeps the main thread free while
avoiding the following problems:</p>
<ul class="small-gap">
<li>The JavaScript engine hangs while waiting for a synchronous call to return.</li>
<li>The browser pops up a dialog when a JavaScript entry point takes longer
than a few moments.</li>
<li>The application hangs while waiting for an unresponsive Native Client module.</li>
</ul>
</section></section><section id="communication-tasks-in-the-hello-world-example">
<h2 id="communication-tasks-in-the-hello-world-example">Communication tasks in the &#8220;Hello, World&#8221; example</h2>
<p>The following sections describe how the &#8220;Hello, World&#8221; example posts
and handles messages on both the JavaScript side and the Native Client
side of the application.</p>
<section id="javascript-code">
<h3 id="javascript-code">JavaScript code</h3>
<p>The JavaScript code and HTML in the &#8220;Hello, World&#8221; example can be
found in the <code>example.js</code>, <code>common.js</code>, and <code>index.html</code> files.
The important steps are:</p>
<ol class="arabic simple">
<li>Sets up an event listener to listen for <code>message</code> events from the
Native Client module.</li>
<li>Implements an event handler that the event listener invokes to handle
incoming <code>message</code> events.</li>
<li>Calls <code>postMessage()</code> to communicate with the NaCl module,
after the page loads.</li>
</ol>
<section id="step-1-from-common-js">
<h4 id="step-1-from-common-js">Step 1: From common.js</h4>
<pre class="prettyprint">
function attachDefaultListeners() {
  // The NaCl module embed is created within the listenerDiv
  var listenerDiv = document.getElementById('listener');
  // ...

  // register the handleMessage function as the message event handler.
  listenerDiv.addEventListener('message', handleMessage, true);
  // ...
}
</pre>
</section><section id="step-2-from-example-js">
<h4 id="step-2-from-example-js">Step 2: From example.js</h4>
<pre class="prettyprint">
// This function is called by common.js when a message is received from the
// NaCl module.
function handleMessage(message) {
  // In the example, we simply log the data that's received in the message.
  var logEl = document.getElementById('log');
  logEl.textContent += message.data;
}

// In the index.html we have set up the appropriate divs:
&lt;body {attrs}&gt;
  &lt;!-- ... --&gt;
  &lt;div id=&quot;listener&quot;&gt;&lt;/div&gt;
  &lt;div id=&quot;log&quot;&gt;&lt;/div&gt;
&lt;/body&gt;
</pre>
</section><section id="step-3-from-example-js">
<h4 id="step-3-from-example-js">Step 3: From example.js</h4>
<pre class="prettyprint">
// From example.js, Step 3:
function moduleDidLoad() {
  // After the NaCl module has loaded, common.naclModule is a reference to the
  // NaCl module's &lt;embed&gt; element.
  //
  // postMessage sends a message to it.
  common.naclModule.postMessage('hello');
}
</pre>
</section></section><section id="native-client-module">
<h3 id="native-client-module">Native Client module</h3>
<p>The C++ code in the Native Client module of the &#8220;Hello, World&#8221; example:</p>
<ol class="arabic simple">
<li>Implements <code>pp::Instance::HandleMessage()</code> to handle messages sent
by the JavaScript.</li>
<li>Processes incoming messages. This example simply checks that JavaScript
has sent a &#8220;hello&#8221; message and not some other message.</li>
<li>Calls <code>PostMessage()</code> to send an acknowledgement back to the
JavaScript code.  The acknowledgement is a string in the form of a <code>Var</code>
that the JavaScript code can process.  In general, a <code>pp::Var</code> can be
several JavaScript types, see the
<a class="reference external" href="https://developers.google.com/native-client/pepperc/struct_p_p_b___messaging__1__0">messaging system documentation</a>.</li>
</ol>
<pre class="prettyprint">
class HelloTutorialInstance : public pp::Instance {
 public:
  // ...

  // === Step 1: Implement the HandleMessage function. ===
  virtual void HandleMessage(const pp::Var&amp; var_message) {

    // === Step 2: Process the incoming message. ===
    // Ignore the message if it is not a string.
    if (!var_message.is_string())
      return;

    // Get the string message and compare it to &quot;hello&quot;.
    std::string message = var_message.AsString();
    if (message == kHelloString) {
      // === Step 3: Send the reply. ===
      // If it matches, send our response back to JavaScript.
      pp::Var var_reply(kReplyString);
      PostMessage(var_reply);
    }
  }
};
</pre>
</section></section><section id="messaging-in-javascript-code-more-details">
<h2 id="messaging-in-javascript-code-more-details">Messaging in JavaScript code: More details.</h2>
<p>This section describes in more detail the messaging system code in the
JavaScript portion of the &#8220;Hello, World&#8221; example.</p>
<section id="setting-up-an-event-listener-and-handler">
<h3 id="setting-up-an-event-listener-and-handler">Setting up an event listener and handler</h3>
<p>The following JavaScript code sets up an event listener for messages
posted by the Native Client module. It then defines a message handler
that simply logs the content of messages received from the module.</p>
<section id="setting-up-the-message-handler-on-load">
<h4 id="setting-up-the-message-handler-on-load">Setting up the &#8216;message&#8217; handler on load</h4>
<pre class="prettyprint">
// From common.js

// Listen for the DOM content to be loaded. This event is fired when
// parsing of the page's document has finished.
document.addEventListener('DOMContentLoaded', function() {
  var body = document.body;
  // ...
  var loadFunction = common.domContentLoaded;
  // ... set up parameters ...
  loadFunction(...);
}

// This function is exported as common.domContentLoaded.
function domContentLoaded(...) {
  // ...
  if (common.naclModule == null) {
    // ...
    attachDefaultListeners();
    // initialize common.naclModule ...
  } else {
    // ...
  }
}

function attachDefaultListeners() {
  var listenerDiv = document.getElementById('listener');
  // ...
  listenerDiv.addEventListener('message', handleMessage, true);
  // ...
}
</pre>
</section><section id="implementing-the-handler">
<h4 id="implementing-the-handler">Implementing the handler</h4>
<pre class="prettyprint">
// From example.js
function handleMessage(message) {
  var logEl = document.getElementById('log');
  logEl.textContent += message.data;
}
</pre>
<p>Note that the <code>handleMessage()</code> function is handed a message_event
containing <code>data</code> that you can display or manipulate in JavaScript. The
&#8220;Hello, World&#8221; application simply logs this data to the <code>log</code> div.</p>
</section></section></section><section id="messaging-in-the-native-client-module-more-details">
<h2 id="messaging-in-the-native-client-module-more-details">Messaging in the Native Client module: More details.</h2>
<p>This section describes in more detail the messaging system code in
the Native Client module portion of the &#8220;Hello, World&#8221; example.</p>
<section id="implementing-handlemessage">
<h3 id="implementing-handlemessage">Implementing HandleMessage()</h3>
<p>If you want the Native Client module to receive and handle messages
from JavaScript, you need to implement a <code>HandleMessage()</code> function
for your module&#8217;s <code>pp::Instance</code> class. The
<code>HelloWorldInstance::HandleMessage()</code> function examines the message
posted from JavaScript. First it examines that the type of the
<code>pp::Var</code> is indeed a string (not a double, etc.). It then
interprets the data as a string with <code>var_message.AsString()</code>, and
checks that the string matches <code>kHelloString</code>. After examining the
message received from JavaScript, the code calls <code>PostMessage()</code> to
send a reply message back to the JavaScript side.</p>
<pre class="prettyprint">
namespace {

// The expected string sent by the JavaScript.
const char* const kHelloString = &quot;hello&quot;;
// The string sent back to the JavaScript code upon receipt of a message
// containing &quot;hello&quot;.
const char* const kReplyString = &quot;hello from NaCl&quot;;

}  // namespace

class HelloTutorialInstance : public pp::Instance {
 public:
  // ...
  virtual void HandleMessage(const pp::Var&amp; var_message) {
    // Ignore the message if it is not a string.
    if (!var_message.is_string())
      return;

    // Get the string message and compare it to &quot;hello&quot;.
    std::string message = var_message.AsString();
    if (message == kHelloString) {
      // If it matches, send our response back to JavaScript.
      pp::Var var_reply(kReplyString);
      PostMessage(var_reply);
    }
  }
};
</pre>
</section><section id="implementing-application-specific-functions">
<h3 id="implementing-application-specific-functions">Implementing application-specific functions</h3>
<p>While the &#8220;Hello, World&#8221; example is very simple, your Native Client
module will likely include application-specific functions to perform
custom tasks in response to messages. For example the application
could be a compression and decompression service (two functions
exported).  The application could set up an application-specific
convention that messages coming from JavaScript are colon-separated
pairs of the form <code>&lt;command&gt;:&lt;data&gt;</code>.  The Native Client module
message handler can then split the incoming string along the <code>:</code>
character to determine which command to execute.  If the command is
&#8220;compress&#8221;, then data to process is an uncompressed string.  If the
command is &#8220;uncompress&#8221;, then data to process is an already-compressed
string. After processing the data asynchronously, the application then
returns the result to JavaScript.</p>
</section><section id="sending-messages-back-to-the-javascript-code">
<h3 id="sending-messages-back-to-the-javascript-code">Sending messages back to the JavaScript code</h3>
<p>The Native Client module sends messages back to the JavaScript code
using <code>PostMessage()</code>. The Native Client module always returns
its values in the form of a <code>pp::Var</code> that can be processed by the
browser&#8217;s JavaScript. In this example, the message is posted at the
end of the Native Client module&#8217;s <code>HandleMessage()</code> function:</p>
<pre class="prettyprint">
PostMessage(var_reply);
</pre>
</section><section id="sending-and-receiving-other-pp-var-types">
<h3 id="sending-and-receiving-other-pp-var-types">Sending and receiving other <code>pp::Var</code> types</h3>
<p>Besides strings, <code>pp::Var</code> can represent other types of JavaScript
objects. For example, messages can be JavaScript objects. These
richer types can make it easier to implement an application&#8217;s
messaging protocol.</p>
<p>To send a dictionary from the NaCl module to JavaScript simply create
a <code>pp::VarDictionary</code> and then call <code>PostMessage</code> with the
dictionary.</p>
<pre class="prettyprint">
pp::VarDictionary dictionary;
dictionary.Set(pp::Var(&quot;command&quot;), pp::Var(next_command));
dictionary.Set(pp::Var(&quot;param_int&quot;), pp::Var(123));
pp::VarArray an_array;
an_array.Set(0, pp::Var(&quot;string0&quot;));
an_array.Set(1, pp::Var(&quot;string1&quot;))
dictionary.Set(pp::Var(&quot;param_array&quot;), an_array);
PostMessage(dictionary);
</pre>
<p>Here is how to create a similar object in JavaScript and send it to
the NaCl module:</p>
<pre class="prettyprint">
var dictionary = {
  command: next_command,
  param_int: 123,
  param_array: ['string0', 'string1']
}
nacl_module.postMessage(dictionary);
</pre>
<p>To receive a dictionary-typed message in the NaCl module, test that
the message is truly a dictionary type, then convert the message
with the <code>pp::VarDictionary</code> class.</p>
<pre class="prettyprint">
virtual void HandleMessage(const pp::Var&amp; var) {
  if (var.is_dictionary()) {
    pp::VarDictionary dictionary(var);
    // Use the dictionary
    pp::VarArray keys = dictionary.GetKeys();
    // ...
  } else {
    // ...
  }
}
</pre>
</section></section></section>
    
    <footer id="cc-info">
      <button id="send-feedback" class="google-button" data-feedback>Send Feedback</button>
      <!--p class="last-updated">Last updated August 2, 2013.</p-->
      <p class="cc-logo"><a href="http://creativecommons.org/licenses/by/3.0/"><img src="../../../static/images/cc_by.png" alt="Licensed Creative Commons by Attribution"></a></p>
    </footer>
    <nav class="inline-toc no-permalink">
      <section class="related">
                      <h3 title="">Coding Your Application</h3>
      <ol class="toc">
                              <li>
                                <a href="application-structure.html">Application Structure</a>
                              </li>
                              <li>
                                <a href="native-client-modules.html">Native Client Modules</a>
                              </li>
                              <li>
                                <a href="3D-graphics.html">3D Graphics</a>
                              </li>
                              <li>
                                <a href="audio.html">Audio</a>
                              </li>
                              <li>
                                <a href="file-io.html">File I/O</a>
                              </li>
                              <li>
                                <a href="../devcycle/nacl_io">The nacl_io Library</a>
                              </li>
                              <li>
                                <a href="message-system.html" class="active">Messaging System</a>
                              </li>
                              <li>
                                <a href="progress-events.html">Progress Events</a>
                              </li>
                              <li>
                                <a href="url-loading">URL Loading</a>
                              </li>
                              <li>
                                <a href="view-focus-input-events">View Change, Focus, &amp; Input Events</a>
                              </li>
      </ol>
      </section>
      <section id="toc">
    <h3>Contents</h3>
    <ol class="toc">
      <li class="toplevel"><a data-list-item href="message-system.html#reference-information"
          >Reference information</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#introduction-to-the-messaging-system"
          >Introduction to the messaging system</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#design-of-the-messaging-system"
          >Design of the messaging system</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#communication-tasks-in-the-hello-world-example"
          >Communication tasks in the Hello, World example</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#javascript-code"
          >JavaScript code</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#step-1-from-common-js"
          >Step 1: From common.js</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#step-2-from-example-js"
          >Step 2: From example.js</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#step-3-from-example-js"
          >Step 3: From example.js</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#native-client-module"
          >Native Client module</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#messaging-in-javascript-code-more-details"
          >Messaging in JavaScript code: More details.</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#setting-up-an-event-listener-and-handler"
          >Setting up an event listener and handler</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#setting-up-the-message-handler-on-load"
          >Setting up the message handler on load</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#implementing-the-handler"
          >Implementing the handler</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#messaging-in-the-native-client-module-more-details"
          >Messaging in the Native Client module: More details.</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#implementing-handlemessage"
          >Implementing HandleMessage()</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#implementing-application-specific-functions"
          >Implementing application-specific functions</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#sending-messages-back-to-the-javascript-code"
          >Sending messages back to the JavaScript code</a>
      </li>
      <li class="toplevel"><a data-list-item href="message-system.html#sending-and-receiving-other-pp-var-types"
          >Sending and receiving other pp::Var types</a>
      </li>
    </ol>
</section>

    </nav>
  </div>
</article>
    </main>

    <footer id="gc-footer" role="contentinfo" class="span-full">
      <div class="g-section g-tpl-50-50">
        <div class="g-unit g-first">
          <nav class="links">
            <a href="https://www.google.com/">Google</a><a href="https://developers.google.com/site-terms">Terms of Service</a><a href="http://www.google.com/intl/en/privacy/">Privacy Policy</a><a href="message-system.html" data-feedback>Report a bug</a>
          </nav>
        </div>
        <div class="g-unit g-last">
          <div id="social-buttons">
            <div data-size="small" data-href="http://www.google.com/chrome" data-annotation="bubble" class="g-plusone"></div>
            <a rel="publisher" target="_blank" href="https://plus.google.com/+GoogleChromeDevelopers?prsrc=3" data-g-label="plus" data-g-event="nav-subfooter">Add us on <span class="element-invisible">Google+</span><img src="http://ssl.gstatic.com/images/icons/gplus-16.png" data-g-label="plus" data-g-event="nav-subfooter" alt=""></a>
          </div>
        </div>
      </div>
    </footer>

  </div>

    <script src="../../../static/js/fatnav.js"></script>
    <script src="../../../static/js/article.js"></script>
    <script src="../../../static/js/prettify.js"></script>
    <script src="../../../static/js/search.js"></script>
    <script src="http://www.gstatic.com/feedback/api.js"></script>
    <script src="../../../static/js/site.js"></script>
  </body>
</html>
